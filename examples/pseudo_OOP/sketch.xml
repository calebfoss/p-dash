<?xml version="1.0" encoding="UTF-8"?>
<_>
    <custom name="ball" ball="this_element">
        <_ on="first_frame"
            ball.x="mouse_pos_x" ball.y="mouse_pos_y"
            ball.speed_x="random(-2, 2)"
            ball.speed_y="random(-2, 2)"
            ball.fill_hue="random(360)"></_>
        <circle
            color_mode="HSB"
            fill="fill_hue, 100, 100"
            stroke="mouse_over ? 0 : NONE"
            stroke_weight="5"></circle>
        <_ ball.x="ball.x + ball.speed_x" ball.y="ball.y + ball.speed_y"></_>
        <_ on="ball.x NO_MORE_THAN 0 OR ball.x AT_LEAST width" ball.speed_x="-ball.speed_x"></_>
        <_ on="ball.y NO_MORE_THAN 0 OR ball.y AT_LEAST height" ball.speed_y="-ball.speed_y"></_>
    </custom>

    <canvas width="window_width" height="window_height" background="255">
        <_ on="mouse_down" ball="create_canvas_element('p-ball')"></_>
    </canvas>
</_>