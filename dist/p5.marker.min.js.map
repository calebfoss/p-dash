{"mappings":"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","sources":["src/utils/caseConvert.js","src/utils/attrParse.js","src/utils/p5Modifiers.js","src/modules/core.js","src/modules/environment.js","src/modules/color.js","src/modules/collide.js","src/modules/shape.js","src/modules/structure.js","src/modules/dom.js","src/modules/data.js","src/modules/math.js","src/modules/rendering.js","src/modules/transform.js","src/modules/events.js","src/modules/image.js","src/modules/io.js","src/modules/typography.js","src/modules/3d.js","src/index.js"],"sourcesContent":["//  regex\nconst upperCaseChar = /([A-Z])/g;\nconst upperCaseCharAfterFirst = /(?<!^)[A-Z]/g;\n\n//  js string replace 2nd param\nconst prependMatch = (char) => char + \"$&\";\n\n//  casing converters\nexport const camelToKebab = (camelStr) =>\n  camelStr.replace(upperCaseCharAfterFirst, prependMatch(\"-\")).toLowerCase();\n\nexport const camelToSnake = (camelStr) =>\n  camelStr.replace(upperCaseCharAfterFirst, prependMatch(\"_\")).toLowerCase();\n\nexport const kebabToCamel = (kebabStr) =>\n  kebabStr.replace(/-./g, (s) => s[1].toUpperCase());\n\nexport const pascalToCamel = (pascalStr) =>\n  pascalStr.slice(0, 1).toLowerCase() + pascalStr.slice(1);\n\nexport const pascalToKebab = (pascalStr) =>\n  pascalToCamel(pascalStr).replaceAll(\n    upperCaseChar,\n    (c) => \"-\" + c.toLowerCase()\n  );\n\nexport const pascalToSnake = (pascalStr) =>\n  pascalToCamel(pascalStr).replaceAll(\n    upperCaseChar,\n    (c) => \"_\" + c.toLowerCase()\n  );\n\nexport const snakeToCamel = (snakeStr) =>\n  snakeStr\n    .split(\"_\")\n    .map((s, i) => (i > 0 ? s.slice(0, 1).toUpperCase() + s.slice(1) : s))\n    .join(\"\");\n","const notExistingObjProp = \"(?<![^\\\\.]\\\\.)\";\r\nconst legalVarName = \"\\\\b[a-z$_][a-z0-9$_]*\\\\b\";\r\nconst notNewObjProp = \"(?:(?!\\\\s*:)|(?<=\\\\?[^,]*))\";\r\nconst notBoolean = \"(?<!\\\\btrue\\\\b)(?<!\\\\bfalse\\\\b)\";\r\nconst notNewKeyword = \"(?<!\\\\bnew\\\\b)\";\r\nconst notProceededByOpenString = \"(?=(?:[^\\\"'`](?:([\\\"'`]).*\\\\1)*)*$)\";\r\nconst varName = new RegExp(\r\n  notExistingObjProp +\r\n    legalVarName +\r\n    notNewObjProp +\r\n    notBoolean +\r\n    notNewKeyword +\r\n    notProceededByOpenString,\r\n  \"gi\"\r\n);\r\n\r\nexport class AttrParseUtil {\r\n  static regex = {\r\n    legalVarName,\r\n    notExistingObjProp,\r\n    notNewObjProp,\r\n    notBoolean,\r\n    notNewKeyword,\r\n    notProceededByOpenString,\r\n    varName,\r\n  };\r\n  static allQuotesMatched(str) {\r\n    const quoteExps = [/\"/g, /'/g, /`/g];\r\n    for (const i in quoteExps) {\r\n      const matches = str.match(quoteExps[i]);\r\n      if (matches && matches.length % 2 !== 0) return false;\r\n    }\r\n    return true;\r\n  }\r\n  static enclose = (str) => {\r\n    const strMinusStrings = str.replace(/([\"'`]).*?\\1/gi, \"\");\r\n    const items = strMinusStrings.split(/(?<!{[^}]*),/gi);\r\n    const isObject = items.some((item) => item.match(/^[^\\?\\{]*:/gi));\r\n    if (items.length === 1 && !isObject) return str;\r\n    const isUnenclosed = str.match(/(?<!\\([^\\)]*)(?<!{[^}]*)[,:]/gi) !== null;\r\n    if (!isUnenclosed) return str;\r\n    if (isObject) return `{${str}}`;\r\n    return `[${str}]`;\r\n  };\r\n  static escapes = {\r\n    LESS_THAN: \"<\",\r\n    GREATER_THAN: \">\",\r\n    AT_LEAST: \">=\",\r\n    NO_MORE_THAN: \"<=\",\r\n    AND: \"&&\",\r\n    OR: \"||\",\r\n    WHILE: \"\",\r\n  };\r\n  static isP5 = (name) => p5.prototype.hasOwnProperty(name);\r\n  static keywords = [\r\n    \"break\",\r\n    \"case\",\r\n    \"catch\",\r\n    \"class\",\r\n    \"const\",\r\n    \"continue\",\r\n    \"debugger\",\r\n    \"default\",\r\n    \"delete\",\r\n    \"do\",\r\n    \"else\",\r\n    \"export\",\r\n    \"extends\",\r\n    \"false\",\r\n    \"finally\",\r\n    \"for\",\r\n    \"function\",\r\n    \"if\",\r\n    \"import\",\r\n    \"in\",\r\n    \"instanceof\",\r\n    \"new\",\r\n    \"null\",\r\n    \"return\",\r\n    \"static\",\r\n    \"super\",\r\n    \"switch\",\r\n    \"this\",\r\n    \"throw\",\r\n    \"true\",\r\n    \"try\",\r\n    \"typeof\",\r\n    \"var\",\r\n    \"void\",\r\n    \"while\",\r\n    \"with\",\r\n    \"yield\",\r\n  ];\r\n  static getOwnerName(el, prop) {\r\n    if (\r\n      AttrParseUtil.keywords.includes(prop) ||\r\n      prop in AttrParseUtil.escapes ||\r\n      prop in globalThis\r\n    )\r\n      return \"none\";\r\n    if (AttrParseUtil.isP5(prop)) return \"pInst\";\r\n    if (el.isPersistent(prop)) return \"this.persistent\";\r\n    if (prop in el) return \"this\";\r\n    return \"inherited\";\r\n  }\r\n  static getPrefix(el, prop) {\r\n    const ownerName = AttrParseUtil.getOwnerName(el, prop);\r\n    if (ownerName === \"none\") return \"\";\r\n    if (ownerName.slice(0, 4) === \"this\") return `${ownerName}.`;\r\n    else return `_${ownerName}.`;\r\n  }\r\n  static replacePropName(el, prop) {\r\n    if (prop in AttrParseUtil.escapes) return AttrParseUtil.escapes[prop];\r\n    return AttrParseUtil.getPrefix(el, prop) + prop;\r\n  }\r\n  static replacePropNames(el, str) {\r\n    return str\r\n      .replace(/UNTIL(.*)/, \"!($1)\")\r\n      .replace(AttrParseUtil.regex.varName, (prop) =>\r\n        AttrParseUtil.replacePropName(el, prop)\r\n      );\r\n  }\r\n}\r\n","import { camelToSnake } from \"./caseConvert\";\r\n\r\nexport function defineProperties(obj) {\r\n  for (const p in obj) {\r\n    p5.prototype[p] = {};\r\n  }\r\n  Object.defineProperties(p5.prototype, obj);\r\n}\r\n\r\nexport const wrapMethod = (methodName, wrapper) =>\r\n  (p5.prototype[methodName] = wrapper(p5.prototype[methodName]));\r\n\r\nexport const defineSnakeAlias = (...propNames) =>\r\n  propNames.forEach(\r\n    (propName) =>\r\n      (p5.prototype[camelToSnake(propName)] = p5.prototype[propName])\r\n  );\r\n\r\nexport const defineRendererGetterSetters = (...methodNames) =>\r\n  methodNames.forEach((methodName) =>\r\n    defineProperties({\r\n      [camelToSnake(methodName)]: {\r\n        get: function () {\r\n          return this._renderer?.[`_${methodName}`];\r\n        },\r\n        set: function (val) {\r\n          if (Array.isArray(val)) this[methodName](...val);\r\n          else this[methodName](val);\r\n        },\r\n      },\r\n    })\r\n  );\r\n","import { pascalToKebab, kebabToCamel } from \"../utils/caseConvert\";\nimport { AttrParseUtil } from \"../utils/attrParse\";\nimport { wrapMethod, defineProperties } from \"../utils/p5Modifiers\";\n\nwrapMethod(\n  \"_createFriendlyGlobalFunctionBinder\",\n  (base) =>\n    function (options = {}) {\n      return (prop, value) => {\n        const descriptor = Object.getOwnPropertyDescriptor(p5.prototype, prop);\n        const globalObject = options.globalObject || window;\n        if (typeof descriptor === \"undefined\" || descriptor.writable)\n          return base.call(this, options)(prop, value);\n        return Object.defineProperty(globalObject, prop, descriptor);\n      };\n    }\n);\n\np5.prototype.WHILE = \"while\";\np5.prototype.UNTIL = \"until\";\n\np5.prototype.assignCanvas = function (c, r) {\n  this.noCanvas();\n  const mainDiv = document.querySelector(\"main\");\n  let index = 0;\n  if (typeof c.id === \"undefined\") {\n    while (document.querySelector(`p5MarkerCanvas${index}`)) index++;\n  }\n  c.id = `p5MarkerCanvas${index}`;\n  if (mainDiv.children.length === 0) mainDiv.remove();\n  if (r === this.WEBGL) {\n    this._setProperty(\"_renderer\", new p5.RendererGL(c, this, true));\n  } else {\n    //P2D mode\n    this._setProperty(\"_renderer\", new p5.Renderer2D(c, this, true));\n  }\n  this._renderer._applyDefaults();\n  this._setProperty(\"_elements\", [this._renderer]);\n  this.resizeCanvas(c.width, c.height);\n};\n\np5.prototype.assets = {};\n\np5.prototype.loadAssets = async function () {\n  const assetElements = Array.from(document.querySelectorAll(\"p-asset\"));\n  const pInst = this;\n  const promises = assetElements.map((el) => el.load(pInst));\n  const results = await Promise.all(promises);\n  results.forEach(\n    (result, i) => (this.assets[assetElements[i].getAttribute(\"name\")] = result)\n  );\n  this._decrementPreload();\n};\np5.prototype.registerPreloadMethod(\"loadAssets\", p5.prototype);\np5.prototype._debug_attributes = true;\np5.prototype.create_canvas_element = function (elementName) {\n  const createdElement = document.createElement(elementName);\n  this.canvas.appendChild(createdElement);\n  createdElement.setup(this, this.canvas);\n  return createdElement;\n};\ndefineProperties({\n  object_assign: {\n    set: function ([target, ...sources]) {\n      Object.assign(target, ...sources);\n    },\n  },\n  debug_attributes: {\n    get: function () {\n      return this._debug_attributes;\n    },\n    set: function (val) {\n      const valType = typeof val;\n      if (typeof val === \"boolean\") this._debug_attributes = val;\n      else\n        console.error(\n          `debug_attributes was set to a value of type ${valType} but may only be set to a boolean true/false value.`\n        );\n    },\n  },\n});\n\nconst attributePriorities = [\n  \"debug_attributes\",\n  \"anchor\",\n  \"angle\",\n  \"scale_factor\",\n  \"shear\",\n  \"_default\",\n  \"repeat\",\n  \"change\",\n];\nconst P5Extension = (baseClass) =>\n  class P5Extension extends baseClass {\n    /**\n     * This element's parent canvas.\n     * @private\n     */\n    #canvas;\n    /**\n     * @private\n     */\n    #pInst;\n    /**\n     * @private\n     */\n    #proxy = new Proxy(this, {\n      get(target, prop) {\n        if (prop in target) return target[prop];\n        return target.#state[prop];\n      },\n      has(target, prop) {\n        if (prop in target) return true;\n        return prop in target.#state;\n      },\n      set(target, prop, val) {\n        const getOwner = (prop) => {\n          if (target.isPersistent(prop)) return target.persistent;\n          if (prop in target.pInst) return target.pInst;\n          return target;\n        };\n        const owner = getOwner(prop);\n        owner.set(prop, val);\n      },\n    });\n    /**\n     * @private\n     */\n    #state = {};\n\n    /**\n     * @private\n     */\n    #updateFunctions = new Map();\n\n    constructor() {\n      super();\n    }\n    /**\n     * Proxy for the sibling element above this element with access to its\n     * properties, methods, and attributes.\n     * @type {proxy}\n     */\n    get above_sibling() {\n      return this.previousElementSibling.this_element;\n    }\n    /**\n     * True if siblings directly above this element with an \"on\" attribute have\n     * \"on\" set to false. This can be used to switch between elements based on\n     * conditions, similar to if/else.\n     * @type {boolean}\n     */\n    get above_siblings_off() {\n      if (this === this.parentElement.firstElementChild) return true;\n      const { above_sibling } = this;\n      if (above_sibling.on) return false;\n      return above_sibling.above_siblings_off;\n    }\n    /**\n     * @method applyChange\n     * @private\n     */\n    #applyChange() {\n      const change = (this.#state.change = this.#updateAttribute(\n        this.#state,\n        \"change\",\n        this\n      ));\n      let changed = false;\n      const assignProp = (obj, prop) => {\n        if (prop in obj) {\n          const changeVal = change[prop];\n          changed ||= obj[prop] !== changeVal;\n          obj[prop] = changeVal;\n          if (this.pInst.debug_attributes) this.setAttribute(prop, changeVal);\n          return true;\n        }\n        return false;\n      };\n      for (const prop in change) {\n        assignProp(this.#state, prop) ||\n          assignProp(this.persistent, prop) ||\n          assignProp(this.pInst, prop) ||\n          console.error(\n            `${this.constructor.elementName}'s change attribute has a prop called ${prop} that is unknown`\n          );\n\n        this.#state[prop] = change[prop];\n      }\n      return changed;\n    }\n    /**\n     * Checks if the provided attribute name belongs to a parent element. If\n     * the attribute refers to an object property, this will check for an\n     * attribute with a name that matches the object.\n     * @param {string} attributeName - name of the attribute to check\n     * @returns {boolean} true\n     */\n    attributeInherited(attributeName) {\n      const [obj, ...props] = attributeName.split(\".\");\n      if (props.length) return this.attributeInherited(obj);\n      if (this.parentElement.hasAttribute(attributeName)) return true;\n      if (this.parentElement.attributeInherited)\n        return this.parentElement.attributeInherited(attributeName);\n      return false;\n    }\n    /**\n     * @private\n     */\n    #callAttributeUpdater(inherited, attrName, thisArg) {\n      if (this.#updateFunctions.has(attrName)) {\n        const evalFn = this.#updateFunctions.get(attrName);\n        return evalFn.call(thisArg, this.pInst, inherited);\n      }\n      if (attrName in inherited) return inherited[attrName];\n      if (attrName in this.persistent) return this.persistent[attrName];\n      if (attrName in this.pInst) return this.pInst[attrName];\n      return;\n    }\n    /**\n     * The parent canvas for this element\n     * @type {HTMLCanvasElement}\n     */\n    get canvas() {\n      return this.#canvas;\n    }\n    /**\n     * Checks if this element is colliding with the provided other element.\n     * @method colliding_with\n     * @param {P5Element} el - other element to check\n     * @returns {boolean} true if elements are colliding\n     */\n    colliding_with(el) {\n      return this.pInst.collide_elements(this, el);\n    }\n    /**\n     * @private\n     */\n    get #comments() {\n      return this.#html\n        .split(/(?:\\r\\n|\\r|\\n)/)\n        .map((line) => line.match(/.{1,80}/g))\n        .flat()\n        .map((line) => \"//\\t\" + line);\n    }\n    /**\n     * Updates the element's attribute values, renders it to the canvas, and\n     * calls the draw method on its children.\n     * @method draw\n     * @param {object} inherited - object containing attribute values passed\n     * down from parent element\n     */\n    draw(inherited) {\n      if (this.hasAttribute(\"on\")) {\n        this.#state.on = this.#updateAttribute(\n          inherited,\n          \"on\",\n          this.this_element\n        );\n        if (!this.#state.on) return;\n      }\n      this.pInst.push();\n      this.updateState(inherited);\n      const { WHILE } = p5.prototype;\n      let repeat = true;\n      while (repeat) {\n        this.render?.();\n        for (const child of this.children) {\n          child.draw(this.#state);\n        }\n        repeat = this.#state.repeat;\n        const { change } = this.#state;\n        if (Array.isArray(repeat)) {\n          const [key, ...conditions] = this.#updateAttribute(\n            this.#state,\n            \"repeat\"\n          );\n          repeat = (key === WHILE) === conditions.every((c) => c);\n        }\n        if (repeat) {\n          this.pInst.pop();\n          this.pInst.push();\n          const updaters = this.#updateFunctions.entries();\n          for (const [attrName, updater] of updaters) {\n            if (attrName in change === false)\n              this.#state[attrName] = this.#updateAttribute(\n                inherited,\n                attrName,\n                this\n              );\n          }\n          const changed = this.#applyChange();\n          if (!changed) repeat = false;\n        }\n        this.endRender?.(this.#state);\n      }\n      this.pInst.pop();\n    }\n    /**\n     * Name of the HTML element generated from this class.\n     * @type {string}\n     */\n    static get elementName() {\n      return `p-${pascalToKebab(this.name)}`;\n    }\n    /**\n     * @private\n     */\n    get #html() {\n      return this.outerHTML.replace(this.innerHTML, \"\");\n    }\n    /**\n     * Checks if an attribute belongs to the parent canvas of this element.\n     * @method isPersistent\n     * @param {string} attributeName - name of the attribute to check\n     * @returns {boolean} true if the attribute belongs to the parent canvas\n     */\n    isPersistent(attributeName) {\n      if (this instanceof HTMLCanvasElement)\n        return this.hasAttribute(attributeName);\n      return this.parentElement?.isPersistent?.(attributeName);\n    }\n    /**\n     * List of attribute names in the order in which they will be evaluated.\n     * Element attributes are not guaranteed to be in the order in which they\n     * are written. Transformation attributes are prioritized before others\n     * and use this order: anchor, angle, scale_factor, shear.\n     * @type {Array}\n     */\n    get orderedAttributeNames() {\n      const ordered = Array.from(this.attributes)\n        .sort(\n          ({ name: a }, { name: b }) =>\n            (attributePriorities.indexOf(a) + 1 ||\n              attributePriorities.indexOf(\"_default\")) -\n            (attributePriorities.indexOf(b) + 1 ||\n              attributePriorities.indexOf(\"_default\"))\n        )\n        .map(({ name }) => name);\n      this.transformDoneIndex =\n        ordered.findLastIndex((attrName) =>\n          attributePriorities.includes(attrName)\n        ) + 1;\n      return ordered;\n    }\n    /**\n     * Proxy for this element's parent canvas is a child with access to its\n     * properties, methods, and attributes.\n     * @type {proxy}\n     */\n    get persistent() {\n      return this.#canvas.this_element;\n    }\n    /**\n     * Proxy for this element's parent element with access to its properties,\n     * methods, and attributes.\n     * @type {proxy}\n     */\n    get parent_element() {\n      return this.parentElement.this_element;\n    }\n    /**\n     * This element's p5 instance.\n     * @type {object}\n     */\n    get pInst() {\n      return this.#pInst;\n    }\n    /**\n     * Sets an attribute's value on this element.\n     * @param {string} attributeName\n     * @param {*} value\n     */\n    set(attributeName, value) {\n      this.#updateFunctions.set(attributeName, () => value);\n      this.#state[attributeName] = value;\n    }\n    /**\n     * Sets this element up with a p5 instance and sets up its children.\n     * @param {p5} pInst\n     */\n    setup(pInst, canvas) {\n      this.#pInst = pInst;\n      this.#canvas = canvas;\n      this.setDefaults?.();\n      this.#setupEvalFns?.();\n      this.setupRenderFunction?.();\n      for (const child of this.children) {\n        child.setup(pInst, canvas);\n      }\n    }\n    /**\n     * @private\n     */\n    #setupEvalFn(attr) {\n      //  The attribute's value will be modified, then run as JS\n      const attrJsStr = attr.value;\n      //  TODO - catch improperly ordered quote marks: \"foo'var\"'\n      if (AttrParseUtil.allQuotesMatched(attrJsStr) === false)\n        console.error(\n          `It looks like a ${this.constructor.elementName}'s ${attr.name} ` +\n            `attribute has an open string. Check that each string has a beginning and end character.`\n        );\n      const owner = AttrParseUtil.getOwnerName(this, attr.name);\n      //  This is plural because there may be a prop name within\n      //  Ex:  myArray[i]\n      const varName = AttrParseUtil.replacePropNames(this, attr.name);\n      const attrValueVarsReplaced = AttrParseUtil.replacePropNames(\n        this,\n        attrJsStr\n      );\n      const varValue = AttrParseUtil.enclose(attrValueVarsReplaced);\n      const evalFnName = `${this.constructor.name}_${attr.name.replace(\n        /[^a-z0-9]/g,\n        \"_\"\n      )}`;\n      const fnHeader = `return function ${evalFnName}(_pInst, _inherited) {`;\n      //  TODO Fix this mess\n      const fnBody =\n        owner === \"inherited\" && !attr.name.includes(\".\")\n          ? `return ${varValue};\\n}`\n          : `return ${varName} = ${varValue};\\n};`;\n      const fnStr = [fnHeader, ...this.#comments, fnBody].join(\"\\n\");\n      const evalFn = new Function(fnStr)();\n      this.#updateFunctions.set(attr.name, evalFn);\n    }\n    /**\n     * @private\n     */\n    #setupEvalFns() {\n      if (this.hasAttribute(\"repeat\") && !this.hasAttribute(\"change\")) {\n        console.error(\n          `It looks like a ${this.constructor.elementName} has a repeat attribute ` +\n            \"but does not have a change attribute. The change attribute is required to \" +\n            \"prevent infinite loops.\"\n        );\n        this.removeAttribute(\"repeat\");\n      }\n      const { orderedAttributeNames, transformDoneIndex } = this;\n      for (let i = 0; i < orderedAttributeNames.length; i++) {\n        if (i === transformDoneIndex)\n          this.#updateFunctions.set(\"transform_matrix\", function () {\n            this.transform_matrix = this.pInst.transform_matrix;\n          });\n        this.#setupEvalFn(this.attributes[orderedAttributeNames[i]]);\n      }\n    }\n    /**\n     * This element's proxy with access to properties, methods, and attributes.\n     */\n    get this_element() {\n      return this.#proxy;\n    }\n    /**\n     * @private\n     * @param {*} inherited\n     * @param {*} attrName\n     * @param {*} thisArg\n     * @returns\n     */\n    #updateAttribute(inherited, attrName, thisArg) {\n      if (attrName === \"repeat\" || attrName === \"change\")\n        inherited = this.#state;\n      const val = this.#callAttributeUpdater(inherited, attrName, thisArg);\n      //  Setting canvas width or height resets the drawing context\n      //  Only set the attribute if it's not one of those\n      if (this.pInst.debug_attributes === false) return val;\n      if (\n        this instanceof HTMLCanvasElement &&\n        (attrName !== \"width\" || attrName !== \"height\")\n      )\n        return val;\n\n      //  Brackets will throw a 'not a valid attribute name' error\n      if (attrName.match(/[\\[\\]]/)) return val;\n\n      const valToString = (v) => {\n        if (v instanceof p5.Color) return v.toString(this.pInst.color_mode);\n        if (typeof v?.toString === \"undefined\") return v;\n        return v.toString();\n      };\n      this.setAttribute(attrName, valToString(val));\n      return val;\n    }\n    /**\n     * Updates the values of all attributes using the provided expressions.\n     * @param {Object} inherited - object\n     * @returns\n     */\n    updateState(inherited) {\n      this.#state = Object.assign({}, inherited);\n      const updaters = this.#updateFunctions.entries();\n      for (const [attrName, updateFunction] of updaters) {\n        this.#state[attrName] = this.#updateAttribute(\n          inherited,\n          attrName,\n          this\n        );\n      }\n      return this.#state;\n    }\n  };\n/**\n * @attribute {p5.Color} fill_color\n * Sets the color used to fill shapes drawn by an element and its children. For example,\n * if you set fill_color=\"204, 102, 0\",\n * the element with that attribute as well as its children will be filled with the color orange.\n * This color is either specified in terms of the RGB or HSB color depending on\n * the current color_mode. (The default color space\n * is RGB, with each value in the range from 0 to 255). The alpha range by default\n * is also 0 to 255.\n *\n * If a single string argument is provided, RGB, RGBA and Hex CSS color strings\n * and all named color strings are supported. In this case, an alpha number\n * value as a second argument is not supported, the RGBA form should be used.\n *\n * A <a href=\"#/p5.Color\">p5.Color</a> object can also be provided to set the fill color.\n *\n * To use a transparent fill, set fill_color=\"NONE\".\n *\n * @attribute {p5.Color} stroke_color\n * Sets the color used to draw lines and borders around shapes drawn by an element and its\n * children. This color\n * is either specified in terms of the RGB or HSB color depending on the\n * current color_mode (the default color space\n * is RGB, with each value in the range from 0 to 255). The alpha range by\n * default is also 0 to 255.\n *\n * If a single string argument is provided, RGB, RGBA and Hex CSS color\n * strings and all named color strings are supported. In this case, an alpha\n * number value as a second argument is not supported, the RGBA form should be\n * used.\n *\n * A <a href=\"#/p5.Color\">p5.Color</a> object can also be provided to set the stroke color.\n *\n * To use a transparent stroke, set stroke_color=\"NONE\".\n *\n * @attribute {Boolean | [Number, Number]} erase\n * An element with erase=\"true\" as well as its children will subtract from\n * the canvas. Erased areas will reveal the web page underneath the canvas. Erasing\n * can be turned off with erase=\"false\".\n *\n * <image> and <paint-bucked> elements will not erase the canvas and will instead work\n * as usual.\n *\n * @attribute {RGB|HSB|HSL, [RGB|HSB|HSL, Number], [RGB|HSB, Number, Number, Number, Number]} color_mode\n * color_mode changes the way p5.js interprets\n * color data. By default, the parameters for fill_color,\n * stroke_color, canvas_background,\n * and <a href=\"#/p5/color\">color()</a> are defined by values between 0 and 255\n * using the RGB color model. This is equivalent to setting color_mode=\"RGB, 255\".\n * Setting color_mode=\"HSB\" lets you use the HSB system instead. By default, this\n * is color_mode=\"HSB, 360, 100, 100, 1\". You can also use HSL.\n *\n * Note: existing color objects remember the mode that they were created in,\n * so you can change modes as you like without affecting their appearance.\n *\n * @attribute {Boolean | [Number, Number, Number]} orbit_control\n * Allows movement around a 3D sketch using a mouse or trackpad.  Left-clicking\n * and dragging will rotate the camera position about the center of the sketch,\n * right-clicking and dragging will pan the camera position without rotation,\n * and using the mouse wheel (scrolling) will move the camera closer or further\n * from the center of the sketch. This attribute can be set with a list of numbers\n * dictating sensitivity to mouse movement along the X and Y axes.  Setting\n * this attribute to true is the equivalent to setting to [1, 1].\n * To reverse direction of movement in either axis, enter a negative number\n * for sensitivity.\n *\n * @element P5Element\n * @attribute {boolean | [GRID|AXIS, Number, Number, Number, Number, Number] |\n * [Number, Number, Number, Number Number, Number, Number, Number, Number]} debug_mode\n * debug_mode helps visualize 3D space by adding a grid to indicate where the\n * ‘ground’ is in a sketch and an axes icon which indicates the +X, +Y, and +Z\n * directions. This attribute can be set to true to create a\n * default grid and axes icon, or it can be set  to customize the size and position\n * of the grid and/or axes icon.  The\n * grid is drawn using the stroke_color and stroke_weight.\n *\n * By default, the grid will run through the origin (0,0,0) of the sketch\n * along the XZ plane\n * and the axes icon will be offset from the origin.  Both the grid and axes\n * icon will be sized according to the current canvas size.  Note that because the\n * grid runs parallel to the default camera view, it is often helpful to use\n * debug_mode along with orbit_control to allow full view of the grid.\n */\nexport class P5Element extends P5Extension(HTMLElement) {}\n\nexport class P5Function extends P5Element {\n  constructor(overloads, renderFunctionName) {\n    super();\n    /**\n     * @private\n     */\n    this.overloads = overloads;\n    /**\n     * @private\n     */\n    this.renderFunctionName =\n      renderFunctionName || kebabToCamel(this.tagName.toLowerCase().slice(2));\n  }\n  /**\n   * Sets the parameters used to call this element's render function based\n   * on the overloads for that function and this element's attributes.\n   * @private\n   */\n  #getArgumentsFromOverloads() {\n    const { overloads } = this;\n    //  Check every required parameter has an attribute\n    const isOptional = (param) => param.match(/^\\[.*\\]$/);\n    let overloadMatch = false;\n    //  Split the parameters and start with overloads with most parameters\n    const overloadsSplitSorted = overloads\n      .map((o) => o.split(\",\").map((p) => p.trim()))\n      .sort((a, b) => a.length - b.length);\n    //  If there aren't any overloads, return an empty array\n    if (overloadsSplitSorted.length === 0) return [];\n    for (let i = 0; i < overloadsSplitSorted.length; i++) {\n      const overloadParams = overloadsSplitSorted[i];\n      overloadMatch = overloadParams.every(\n        (p) =>\n          this.hasAttribute(p) ||\n          this.attributeInherited(p) ||\n          isOptional(p) ||\n          p === \"\" ||\n          (i === overloadsSplitSorted.length - 1 && this.isPersistent(p))\n      );\n\n      //  If matched overload found\n      if (overloadMatch) {\n        //  Filter params recursively\n        const filterParams = (overloadParams, filteredParams = [], i = 0) => {\n          //  If there are no more overload params, return filtered params\n          if (i === overloadParams.length) return filteredParams;\n          const optional = isOptional(overloadParams[i]);\n          const p = overloadParams[i].replaceAll(/\\[|\\]/g, \"\");\n          //  If param defined on this element, add it to filtered params\n          if (this.hasAttribute(p))\n            return filterParams(\n              overloadParams,\n              filteredParams.concat({ owner: this.this_element, param: p }),\n              ++i\n            );\n          //  If not defined on this element and optional, return filtered params\n          if (optional) return filteredParams;\n          //  If attribute is persistent, add it to filtered params\n          if (this.isPersistent(p))\n            return filterParams(\n              overloadParams,\n              filteredParams.concat({ owner: this.persistent, param: p }),\n              ++i\n            );\n          //  If required and already initialized, add it to filtered params\n          if (this.attributeInherited(p))\n            return filterParams(\n              overloadParams,\n              filteredParams.concat({ owner: this.this_element, param: p }),\n              ++i\n            );\n          return filteredParams;\n        };\n        return filterParams(overloadParams);\n      }\n    }\n    console.error(\n      `Element ${this.tagName} does not have the required attributes to render and will be removed from the sketch`\n    );\n    this.remove();\n  }\n  /**\n   * @private\n   */\n  setupRenderFunction() {\n    const args = this.#getArgumentsFromOverloads();\n    this.render = function () {\n      this.pInst[this.renderFunctionName](\n        ...args.map(({ param, owner }) => owner[param])\n      );\n    };\n  }\n}\n\np5.prototype._defineCustomElement = function (pCustomEl) {\n  const name = pCustomEl.getAttribute(\"name\");\n  customElements.define(\n    `p-${name}`,\n    class extends P5Element {\n      constructor() {\n        super();\n      }\n      /**\n       * Sets the default values for this element's attributes.\n       */\n      setDefaults() {\n        Array.from(pCustomEl.attributes).forEach(\n          (a) =>\n            this.hasAttribute(a.name) === false &&\n            this.setAttribute(a.name, a.value)\n        );\n        const childClones = Array.from(pCustomEl.children).map((child) =>\n          child.cloneNode(true)\n        );\n        this.prepend(...childClones);\n      }\n\n      renderToCanvas = null;\n    }\n  );\n};\n/**\n * The blank `<_>` element renders nothing to the canvas. This is useful\n * for adjusting attributes for child elements.\n * @element _\n */\nclass _ extends P5Element {\n  constructor() {\n    super();\n  }\n}\ncustomElements.define(\"p-_\", _);\n\n/**\n * The `<canvas>` element is a rectangular area of the window for rendering\n * imagery. All child elements are rendered to the canvas. Width, height\n * canvas_background, and all custom attributes are persistent; if a child\n * element changes the value of any of these attributes, the change will\n * remain in the next frame. This can be used to animate attributes over\n * time.\n * @element canvas\n * @attribute {Number} width - Width of the canvas in pixels\n * @attribute {Number} height - Height of the canvas in pixels\n * @attribute {p5.Color|String|Number, [Number]|Number, Number, Number, [Number]|p5.Image,\n * [Number]} canvas_background\n * Sets the background that is rendered at the start of each frame. This may be a color\n * or an image. The default background is NONE (transparent). The color is either specified in\n * terms of the RGB, HSB, or HSL color depending on the current color_mode. The values are the\n * same as the parameters for <a href=\"https://p5js.org/reference/#/p5/color\" target=\"_blank\">color()</a>.\n *\n * If the attribute is set to a single string, RGB, RGBA and Hex CSS color strings and\n * all named color strings are supported. In this case, an alpha number value as a second\n * value is not supported, the RGBA form should be used.\n */\nclass Canvas extends P5Extension(HTMLCanvasElement) {\n  constructor() {\n    super();\n    window.addEventListener(\"customElementsDefined\", this.runCode.bind(this));\n  }\n  get orderedAttributeNames() {\n    //  Remove 'is' and 'style' from attrNames\n    return super.orderedAttributeNames.filter(\n      (v) => v !== \"is\" && v != \"style\"\n    );\n  }\n  runCode() {\n    const canvas = this;\n\n    const sketch = (pInst) => {\n      canvas.defaults = {\n        x: 0,\n        x1: 0,\n        x2: 0,\n        x3: 100,\n        x4: 100,\n        cx: 0,\n        y: 0,\n        y1: 0,\n        y2: 100,\n        y3: 100,\n        y4: 0,\n        cy: 0,\n        z: 0,\n        w: 100,\n        h: 100,\n        d: 100,\n        s: 100,\n        start_angle: 0,\n        stop_angle: pInst.PI,\n        vector: pInst.createVector(),\n        v1: 255,\n        v2: 255,\n        v3: 255,\n        rx: 1,\n        ry: 1,\n        rz: -1,\n        img: pInst.createImage(100, 100),\n        content: \"\",\n        on: true,\n        repeat: false,\n        change: {},\n      };\n      pInst.preload = () => pInst.loadAssets();\n\n      pInst.setup = function () {\n        const renderer = pInst[canvas.getAttribute(\"renderer\")];\n        canvas.setup(pInst, canvas);\n        pInst.assignCanvas(canvas, renderer);\n        const initialState = canvas.updateState({});\n        Object.getOwnPropertyNames(initialState).forEach(\n          (name) => delete canvas.defaults[name]\n        );\n      };\n      pInst.draw = function () {\n        for (const child of canvas.children) {\n          child.draw?.(canvas.defaults);\n        }\n      };\n    };\n    new p5(sketch);\n  }\n  attributeInherited(attributeName) {\n    if (this.hasAttribute(attributeName) || attributeName in this.defaults)\n      return true;\n    return super.attributeInherited(attributeName);\n  }\n}\ncustomElements.define(\"p-canvas\", Canvas, { extends: \"canvas\" });\n/**\n * The `<custom>` element generates a new element from a combination of existing\n * elements. This element should be placed outside the <canvas> element. The name attribute defines the name of the new element. For\n * example, if name is set to \"my-element,\" <my-element>\n * @element custom\n * @example Clouds\n * ```html\n * <_>\n *  <custom name=\"cloud\" attributes=\"center_x, center_y\" stroke_color=\"NONE\">\n *      <_ anchor=\"center_x, center_y\" d=\"40\">\n *          <circle x=\"-20\" y=\"-10\" fill_color=\"220\"></circle>\n *          <circle x=\"20\" y=\"-10\" fill_color=\"210\"></circle>\n *          <circle x=\"-10\" y=\"-20\" fill_color=\"250\"></circle>\n *          <circle x=\"10\" y=\"-20\" fill_color=\"210\"></circle>\n *          <circle x=\"0\" y=\"0\" fill_color=\"180\"></circle>\n *          <circle x=\"20\" y=\"0\" fill_color=\"200\"></circle>\n *          <circle x=\"-20\" y=\"0\" fill_color=\"240\"></circle>\n *          <circle x=\"0\" y=\"-5\" fill_color=\"235\"></circle>\n *      </_>\n *  </custom>\n *  <canvas\n *      width=\"400\"\n *      height=\"400\"\n *      is=\"canvas\"\n *      canvas_background=\"100, 140, 200\"\n *      cloud_x=\"0\"\n *  >\n *      <cloud\n *          center_y=\"75\"\n *          center_x=\"cloud_x - 40 - width * 0.25\"\n *          change=\"center_x: center_x + width * 0.25\"\n *          repeat=\"WHILE center_x LESS_THAN width * 1.25\"\n *      ></cloud>\n *      <_ cloud_x=\"cloud_x + 0.25\">\n *          <_ on=\"cloud_x GREATER_THAN width * 0.25\" cloud_x=\"0\"></_>\n *      </_>\n *  </canvas>\n * </_>\n * ```\n */\nclass Custom extends P5Element {\n  constructor() {\n    super();\n    if (this.attributes.length) p5.prototype._defineCustomElement(this);\n  }\n}\ncustomElements.define(\"p-custom\", Custom);\n\nclass Asset extends HTMLElement {\n  static elementName = \"p-asset\";\n  constructor() {\n    super();\n  }\n  static loadFns = {\n    image: \"loadImage\",\n    font: \"loadFont\",\n    json: \"loadJSON\",\n    strings: \"loadStrings\",\n    table: \"loadTable\",\n    xml: \"loadXML\",\n    bytes: \"loadBytes\",\n    get: \"httpGet\",\n    shader: \"loadShader\",\n  };\n\n  async load(pInst) {\n    if (this.data) return this.data;\n    const loadFn = Asset.loadFns[this.getAttribute(\"type\").toLowerCase()];\n    const path = this.getAttribute(\"path\");\n    this.data = await pInst[loadFn](path);\n    return this.data;\n  }\n}\ncustomElements.define(\"p-asset\", Asset);\n\n/**\n * This HTML element loads an XML sketch file. This should be added to the\n * index.html file as a `<link>` element with the attributes is=\"p-sketch\" and\n * href=\"[PATH TO XML FILE]\".\n * @element p-sketch\n * @example Add a sketch to html\n * ```html\n * <!DOCTYPE html>\n * <html lang=\"en\">\n * <head>\n *   <script src=\"p5.js\"></script>\n *   <script src=\"p5.marker.js\" defer></script>\n *   <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n *   <link href=\"sketch.xml\" is=\"p-sketch\" />\n *   <meta charset=\"utf-8\" />\n * </head>\n * <body></body>\n * </html>\n * ```\n */\nclass Sketch extends HTMLLinkElement {\n  static elementName = \"p-sketch\";\n  constructor() {\n    super();\n    this.#loadXML(this.href);\n  }\n  #convertElement(xmlEl) {\n    const xmlTag = xmlEl.tagName;\n    const createElementArguments = this.#xmlTagToCreateElementArguments(xmlTag);\n    const pEl = document.createElement(...createElementArguments);\n    this.#copyAttributes(xmlEl, pEl);\n    if (xmlTag === \"custom\") p5.prototype._defineCustomElement(pEl);\n    return pEl;\n  }\n  #convertAllElements(xmlEl, parent = document.body) {\n    const pEl = this.#convertElement(xmlEl);\n    parent.appendChild(pEl);\n    for (let i = 0; i < xmlEl.children.length; i++) {\n      this.#convertAllElements(xmlEl.children[i], pEl);\n    }\n  }\n  #convertXML(e) {\n    const xml = e.target.response.documentElement;\n    this.#convertAllElements(xml);\n    document.querySelectorAll(\"canvas\").forEach((canvas) => canvas.runCode());\n  }\n  #copyAttributes(orig, copy) {\n    const attrs = orig.attributes;\n    for (let i = 0; i < attrs.length; i++) {\n      const attr = attrs[i];\n      copy.setAttribute(attr.name, attr.value);\n    }\n  }\n  #loadXML(path) {\n    if (!path)\n      return console.error(\n        \"p-sketch element is missing required path attribute\"\n      );\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", path);\n    request.responseType = \"document\";\n    request.overrideMimeType(\"text/xml\");\n    request.addEventListener(\"load\", this.#convertXML.bind(this));\n    request.send();\n  }\n  #xmlTagToCreateElementArguments(xmlTag) {\n    if (xmlTag.slice(0, 2) === \"p-\") return [xmlTag];\n    if (xmlTag === \"canvas\") return [xmlTag, { is: \"p-canvas\" }];\n    return [\"p-\" + xmlTag];\n  }\n}\ncustomElements.define(\"p-sketch\", Sketch, { extends: \"link\" });\n","import { defineProperties, wrapMethod } from \"../utils/p5Modifiers\";\n\np5.prototype.window_resized = false;\nwrapMethod(\n  \"_onresize\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"window_resized\", true);\n    }\n);\n\np5.prototype.registerMethod(\"post\", function () {\n  this._setProperty(\"window_resized\", false);\n});\n\np5.prototype._fullscreen = p5.prototype.fullscreen;\np5.prototype._width = p5.prototype.width;\np5.prototype._height = p5.prototype.height;\n\np5.prototype._createDescriptionContainer = function () {\n  const cnvId = this.canvas.id;\n  const descriptionContainer = document.createElement(\"div\");\n  descriptionContainer.setAttribute(\"id\", `${cnvId}_Description`);\n  descriptionContainer.setAttribute(\"role\", \"region\");\n  descriptionContainer.setAttribute(\"aria-label\", \"Canvas Description\");\n  const p = document.createElement(\"p\");\n  p.setAttribute(\"id\", `${cnvId}_fallbackDesc`);\n  descriptionContainer.append(p);\n  this.canvas.append(descriptionContainer);\n  return descriptionContainer;\n};\n\nwrapMethod(\n  \"_describeHTML\",\n  (base) =>\n    function (type, text) {\n      const cnvId = this.canvas.id;\n      const describeId = `#${cnvId}_Description`;\n      if (type === \"fallback\" && !this.dummyDOM.querySelector(describeId)) {\n        const fallback = this._createDescriptionContainer().querySelector(\n          `#${cnvId}_fallbackDesc`\n        );\n        fallback.innerHTML = text;\n      } else {\n        base.call(this, type, text);\n      }\n    }\n);\n\nwrapMethod(\n  \"_describeElementHTML\",\n  (base) =>\n    function (type, name, text) {\n      const cnvId = this.canvas.id;\n      if (\n        type === \"fallback\" &&\n        !this.dummyDOM.querySelector(`#${cnvId}_Description`)\n      ) {\n        this._createDescriptionContainer();\n      }\n      base.call(this, type, name, text);\n    }\n);\n\nwrapMethod(\n  \"_createOutput\",\n  (base) =>\n    function (type, display) {\n      const cnvId = this.canvas.id;\n      if (!this.dummyDOM) {\n        this.dummyDOM = document.getElementById(cnvId).parentNode;\n      }\n      if (\n        (type === \"textOutput\" || type === \"gridOutput\") &&\n        !this.dummyDOM.querySelector(`#${cnvId}accessibleOutput${display}`)\n      )\n        this._createDescriptionContainer();\n      base.call(this, type, display);\n    }\n);\n\np5.prototype.registerMethod(\"post\", function () {\n  if (this.text_output || this.grid_output) this._updateAccsOutput();\n});\n\ndefineProperties({\n  cursor_type: {\n    get: function () {\n      return this.canvas?.style.cursor;\n    },\n    set: function (val) {\n      if (val === this.NONE) this.noCursor();\n      else if (Array.isArray(val)) this.cursor(...val);\n      else this.cursor(val);\n    },\n  },\n  delta_time: {\n    get: function () {\n      return this.deltaTime;\n    },\n  },\n  display_width: {\n    get: function () {\n      return this.displayWidth;\n    },\n  },\n  display_height: {\n    get: function () {\n      return this.displayHeight;\n    },\n  },\n  frame_count: {\n    get: function () {\n      return this.frameCount;\n    },\n  },\n  frame_rate: {\n    get: function () {\n      return this._frameRate;\n    },\n    set: function (val) {\n      this.frameRate(val);\n    },\n  },\n  fullscreen: {\n    get: function () {\n      return this._fullscreen();\n    },\n    set: function (val) {\n      this._fullscreen(val);\n    },\n  },\n  window_width: {\n    get: function () {\n      return this.windowWidth;\n    },\n  },\n  window_height: {\n    get: function () {\n      return this.windowHeight;\n    },\n  },\n  grid_output: {\n    get: function () {\n      return this._accessibleOutputs.grid;\n    },\n    set: function (val) {\n      if (val === true) this.gridOutput();\n      else this.gridOutput(val);\n    },\n  },\n  pixel_density: {\n    get: function () {\n      return this.pixelDensity();\n    },\n    set: function (val) {\n      this.pixelDensity(val);\n    },\n  },\n  description: {\n    get: function () {\n      return this.sketch_description;\n    },\n    set: function (val) {\n      this.describeElement(...val);\n    },\n  },\n  display_density: {\n    get: function () {\n      return this.displayDensity();\n    },\n  },\n  url: {\n    get: function () {\n      return this.getURL();\n    },\n  },\n  url_path: {\n    get: function () {\n      return this.getURLPath();\n    },\n  },\n  url_params: {\n    get: function () {\n      return this.getURLParams();\n    },\n  },\n  width: {\n    get: function () {\n      return this._width;\n    },\n    set: function (val) {\n      if (val !== this._width) {\n        this._setProperty(\"_width\", val);\n        this.resizeCanvas(this._width, this._height);\n      }\n    },\n  },\n  height: {\n    get: function () {\n      return this._height;\n    },\n    set: function (val) {\n      if (val !== this._height) {\n        this._setProperty(\"_height\", val);\n        this.resizeCanvas(this._width, this._height);\n      }\n    },\n  },\n  log: {\n    set: function (val) {\n      this.print(val);\n    },\n  },\n  sketch_description: {\n    get: function () {\n      const cnvId = this.canvas.id;\n      const descContainer = this.dummyDOM.querySelector(\n        `#${cnvId}_Description`\n      );\n      if (descContainer) return descContainer;\n      const labelContainer = this.dummyDOM.querySelector(`#${cnvId}_Label`);\n      return labelContainer;\n    },\n\n    set: function (val) {\n      if (Array.isArray(val)) this.describe(...val);\n      else this.describe(val);\n    },\n  },\n  text_output: {\n    get: function () {\n      return this._accessibleOutputs.text;\n    },\n    set: function (val) {\n      if (val === true) this.textOutput();\n      else this.textOutput(val);\n    },\n  },\n});\n","import { defineSnakeAlias, defineProperties } from \"../utils/p5Modifiers\";\nimport { P5Function } from \"./core\";\n\ndefineSnakeAlias(\"lerpColor\");\n\np5.prototype.NONE = \"none\";\n\nexport class ColorFunction extends P5Function {\n  constructor(overloads, renderFunctionName) {\n    /**\n     * @private\n     */\n    overloads = [\n      \"v1, v2, v3, [alpha]\",\n      \"value\",\n      \"gray, [alpha]\",\n      \"values\",\n      \"c\",\n      ...overloads,\n    ];\n    super(overloads, renderFunctionName);\n  }\n}\n\n//  TODO - Less hacky way to set color before initializing p5?\nconst transparent = p5.prototype.color.call(\n  {\n    _colorMode: \"rgb\",\n    _colorMaxes: { rgb: [255, 255, 255, 255] },\n  },\n  0,\n  0\n);\np5.prototype.setErase = p5.prototype.erase;\np5.prototype._background = transparent;\ndefineProperties({\n  canvas_background: {\n    get: function () {\n      return this._background;\n    },\n    set: function (val) {\n      if (val === this.NONE) this._background = transparent;\n      else if (val instanceof p5.Image) this._background = val;\n      else this._background = this.color(val);\n    },\n  },\n  color_mode: {\n    get: function () {\n      return this._colorMode;\n    },\n    set: function (val) {\n      this.colorMode(val);\n    },\n  },\n  fill_color: {\n    get: function () {\n      if (!this.drawingContext) return \"\";\n      return this.color(this.drawingContext.fillStyle);\n    },\n    set: function (val) {\n      if (val === this.NONE) this.noFill();\n      else this.fill(val);\n    },\n  },\n  stroke_color: {\n    get: function () {\n      if (!this.drawingContext) return \"\";\n      return this.color(this.drawingContext.strokeStyle);\n    },\n    set: function (val) {\n      if (val === this.NONE) this.noStroke();\n      else this.stroke(val);\n    },\n  },\n  erase: {\n    get: function () {\n      return this._isErasing;\n    },\n    set: function (val) {\n      if (val === true) this.setErase();\n      else if (Array.isArray(val)) this.setErase(...val);\n      else this.setErase(val);\n    },\n  },\n});\n/**\n * Clears the pixels within a buffer. This element only clears the canvas.\n * It will not clear objects created by create_x() functions such as\n * create_video() or create_div().\n * Unlike the main graphics context, pixels in additional graphics areas created\n * with create_graphics() can be entirely\n * or partially transparent. This element clears everything to make all of\n * the pixels 100% transparent.\n *\n * Note: In WebGL mode, this element can have attributes set to normalized RGBA\n * color values in order to clear the screen to a specific color.\n * In addition to color, it will also clear the depth buffer.\n * If you are not using the webGL renderer these color values will have no\n * effect.\n *\n * @element clear\n * @attribute {Number} r normalized red val.\n * @attribute {Number} g normalized green val.\n * @attribute {Number} b normalized blue val.\n * @attribute {Number} a normalized alpha val.\n */\nclass Clear extends P5Function {\n  constructor() {\n    super([\"\", \"r, g, b, a\"]);\n  }\n}\ncustomElements.define(\"p-clear\", Clear);\n\n/**\n * The ```<paint-bucket>``` element fills the canvas with a particular color or\n * image.\n *\n * @element paint-bucket\n * @attribute {p5.Color} color  any value created by the <a href=\"#/p5/color\">color\n * @attribute {String} colorstring color string, possible formats include: integer\n *                         rgb() or rgba(), percentage rgb() or rgba(),\n *                         3-digit hex, 6-digit hex\n * @attribute {Number} [a]         opacity of the background relative to current\n *                             color range (default is 0-255)\n * @attribute {Number} gray   specifies a value between white and black\n * @attribute {Number} v1     red or hue value (depending on the current color\n *                        mode)\n * @attribute {Number} v2     green or saturation value (depending on the current\n *                        color mode)\n * @attribute {Number} v3     blue or brightness value (depending on the current\n *                        color mode)\n * @attribute  {Number[]}      values  an array containing the red, green, blue\n *                                 and alpha components of the color\n * @attribute {p5.Image} image    image loaded via an ```<asset>``` (must be\n *                                  same size as the sketch window)\n */\nclass PaintBucket extends ColorFunction {\n  constructor() {\n    super(\n      [\"colorstring, [a]\", \"gray, [a]\", \"image, [a]\", \"v1, v2, v3, [a]\"],\n      \"background\"\n    );\n  }\n}\ncustomElements.define(\"p-paint-bucket\", PaintBucket);\n\np5.prototype.registerMethod(\"pre\", function () {\n  this.background(this.canvas_background);\n});\n","/*\nRepo: https://github.com/bmoren/p5.collide2D/\nCreated by http://benmoren.com\nSome functions and code modified version from http://www.jeffreythompson.org/collision-detection\nVersion v0.7.3 | June 22, 2020\nCC BY-NC-SA 4.0\n*/\n\np5.prototype._collide_debug = false;\n\np5.prototype.collide_debug = function (debugMode) {\n  _collideDebug = debugMode;\n};\n\np5.prototype.collider_type = {\n  point: \"point\",\n  circle: \"circle\",\n  ellipse: \"ellipse\",\n  rect: \"rect\",\n  line: \"line\",\n  arc: \"arc\",\n  triangle: \"triangle\",\n  poly: \"poly\",\n};\n\np5.prototype.collide_elements = function (elementA, elementB) {\n  const { collider: colliderA } = elementA;\n  const { collider: colliderB } = elementB;\n  const argsA = elementA.collision_args;\n  const argsB = elementB.collision_args;\n  const fnNameForward = `collide_${colliderA}_${colliderB}`;\n  if (fnNameForward in this) return this[fnNameForward](...argsA, ...argsB);\n  const fnNameBackward = `collide_${colliderB}_${colliderA}`;\n  if (fnNameBackward in this) return this[fnNameBackward](...argsB, ...argsA);\n  console.warn(\n    `Collision check between ${colliderA} and ${colliderB} has not been implemented`\n  );\n  return false;\n};\n\n/*~++~+~+~++~+~++~++~+~+~ 2D ~+~+~++~+~++~+~+~+~+~+~+~+~+~+~+*/\n\np5.prototype.collide_rect_rect = function (x, y, w, h, x2, y2, w2, h2) {\n  //2d\n  //add in a thing to detect rectMode CENTER\n  if (\n    x + w >= x2 && // r1 right edge past r2 left\n    x <= x2 + w2 && // r1 left edge past r2 right\n    y + h >= y2 && // r1 top edge past r2 bottom\n    y <= y2 + h2\n  ) {\n    // r1 bottom edge past r2 top\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collideRectRect\np5.prototype.collide_rect_rect_vector = function (p1, sz, p2, sz2) {\n  return p5.prototype.collide_rect_rect(\n    p1.x,\n    p1.y,\n    sz.x,\n    sz.y,\n    p2.x,\n    p2.y,\n    sz2.x,\n    sz2.y\n  );\n};\n\np5.prototype.collide_rect_circle = function (rx, ry, rw, rh, cx, cy, diameter) {\n  //2d\n  // temporary variables to set edges for testing\n  var testX = cx;\n  var testY = cy;\n\n  // which edge is closest?\n  if (cx < rx) {\n    testX = rx; // left edge\n  } else if (cx > rx + rw) {\n    testX = rx + rw;\n  } // right edge\n\n  if (cy < ry) {\n    testY = ry; // top edge\n  } else if (cy > ry + rh) {\n    testY = ry + rh;\n  } // bottom edge\n\n  // // get distance from closest edges\n  var distance = this.dist(cx, cy, testX, testY);\n\n  // if the distance is less than the radius, collision!\n  if (distance <= diameter / 2) {\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collideRectCircle\np5.prototype.collide_rect_circle_vector = function (r, sz, c, diameter) {\n  return p5.prototype.collide_rect_circle(\n    r.x,\n    r.y,\n    sz.x,\n    sz.y,\n    c.x,\n    c.y,\n    diameter\n  );\n};\n\np5.prototype.collide_circle_circle = function (x, y, d, x2, y2, d2) {\n  //2d\n  if (this.dist(x, y, x2, y2) <= d / 2 + d2 / 2) {\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collideCircleCircle\np5.prototype.collide_circle_circle_vector = function (p1, d, p2, d2) {\n  return p5.prototype.collide_circle_circle(p1.x, p1.y, d, p2.x, p2.y, d2);\n};\n\np5.prototype.collide_point_circle = function (x, y, cx, cy, d) {\n  //2d\n  if (this.dist(x, y, cx, cy) <= d / 2) {\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collidePointCircle\np5.prototype.collide_point_circle_vector = function (p, c, d) {\n  return p5.prototype.collide_point_circle(p.x, p.y, c.x, c.y, d);\n};\n\np5.prototype.collide_point_ellipse = function (x, y, cx, cy, dx, dy) {\n  //2d\n  var rx = dx / 2,\n    ry = dy / 2;\n  // Discarding the points outside the bounding box\n  if (x > cx + rx || x < cx - rx || y > cy + ry || y < cy - ry) {\n    return false;\n  }\n  // Compare the point to its equivalent on the ellipse\n  var xx = x - cx,\n    yy = y - cy;\n  var eyy = (ry * this.sqrt(this.abs(rx * rx - xx * xx))) / rx;\n  return yy <= eyy && yy >= -eyy;\n};\n\n// p5.vector version of collidePointEllipse\np5.prototype.collide_point_ellipse_vector = function (p, c, d) {\n  return p5.prototype.collide_point_ellipse(p.x, p.y, c.x, c.y, d.x, d.y);\n};\n\np5.prototype.collide_point_rect = function (pointX, pointY, x, y, xW, yW) {\n  //2d\n  if (\n    pointX >= x && // right of the left edge AND\n    pointX <= x + xW && // left of the right edge AND\n    pointY >= y && // below the top AND\n    pointY <= y + yW\n  ) {\n    // above the bottom\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collidePointRect\np5.prototype.collide_point_rect_vector = function (point, p1, sz) {\n  return p5.prototype.collide_point_rect(\n    point.x,\n    point.y,\n    p1.x,\n    p1.y,\n    sz.x,\n    sz.y\n  );\n};\n//  TODO - Accommodate lines with higher stroke_weight\np5.prototype.collide_point_line = function (px, py, x1, y1, x2, y2, buffer) {\n  // get distance from the point to the two ends of the line\n  var d1 = this.dist(px, py, x1, y1);\n  var d2 = this.dist(px, py, x2, y2);\n\n  // get the length of the line\n  var lineLen = this.dist(x1, y1, x2, y2);\n\n  // since floats are so minutely accurate, add a little buffer zone that will give collision\n  if (buffer === undefined) {\n    buffer = 0.1;\n  } // higher # = less accurate\n\n  // if the two distances are equal to the line's length, the point is on the line!\n  // note we use the buffer here to give a range, rather than one #\n  if (d1 + d2 >= lineLen - buffer && d1 + d2 <= lineLen + buffer) {\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collidePointLine\np5.prototype.collide_point_line_vector = function (point, p1, p2, buffer) {\n  return p5.prototype.collide_point_line(\n    point.x,\n    point.y,\n    p1.x,\n    p1.y,\n    p2.x,\n    p2.y,\n    buffer\n  );\n};\n\np5.prototype.collide_line_circle = function (x1, y1, x2, y2, cx, cy, diameter) {\n  // is either end INSIDE the circle?\n  // if so, return true immediately\n  var inside1 = this.collide_point_circle(x1, y1, cx, cy, diameter);\n  var inside2 = this.collide_point_circle(x2, y2, cx, cy, diameter);\n  if (inside1 || inside2) return true;\n\n  // get length of the line\n  var distX = x1 - x2;\n  var distY = y1 - y2;\n  var len = this.sqrt(distX * distX + distY * distY);\n\n  // get dot product of the line and circle\n  var dot = ((cx - x1) * (x2 - x1) + (cy - y1) * (y2 - y1)) / this.pow(len, 2);\n\n  // find the closest point on the line\n  var closestX = x1 + dot * (x2 - x1);\n  var closestY = y1 + dot * (y2 - y1);\n\n  // is this point actually on the line segment?\n  // if so keep going, but if not, return false\n  var onSegment = this.collide_point_line(closestX, closestY, x1, y1, x2, y2);\n  if (!onSegment) return false;\n\n  // draw a debug circle at the closest point on the line\n  if (this._collideDebug) {\n    this.ellipse(closestX, closestY, 10, 10);\n  }\n\n  // get distance to closest point\n  distX = closestX - cx;\n  distY = closestY - cy;\n  var distance = this.sqrt(distX * distX + distY * distY);\n\n  if (distance <= diameter / 2) {\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collideLineCircle\np5.prototype.collide_line_circle_vector = function (p1, p2, c, diameter) {\n  return p5.prototype.collide_line_circle(\n    p1.x,\n    p1.y,\n    p2.x,\n    p2.y,\n    c.x,\n    c.y,\n    diameter\n  );\n};\np5.prototype.collide_line_line = function (\n  x1,\n  y1,\n  x2,\n  y2,\n  x3,\n  y3,\n  x4,\n  y4,\n  calcIntersection\n) {\n  var intersection;\n\n  // calculate the distance to intersection point\n  var uA =\n    ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) /\n    ((y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1));\n  var uB =\n    ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) /\n    ((y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1));\n\n  // if uA and uB are between 0-1, lines are colliding\n  if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n    if (this._collideDebug || calcIntersection) {\n      // calc the point where the lines meet\n      var intersectionX = x1 + uA * (x2 - x1);\n      var intersectionY = y1 + uA * (y2 - y1);\n    }\n\n    if (this._collideDebug) {\n      this.ellipse(intersectionX, intersectionY, 10, 10);\n    }\n\n    if (calcIntersection) {\n      intersection = {\n        x: intersectionX,\n        y: intersectionY,\n      };\n      return intersection;\n    } else {\n      return true;\n    }\n  }\n  if (calcIntersection) {\n    intersection = {\n      x: false,\n      y: false,\n    };\n    return intersection;\n  }\n  return false;\n};\n\n// p5.vector version of collideLineLine\np5.prototype.collide_line_line_vector = function (\n  p1,\n  p2,\n  p3,\n  p4,\n  calcIntersection\n) {\n  return p5.prototype.collide_line_line(\n    p1.x,\n    p1.y,\n    p2.x,\n    p2.y,\n    p3.x,\n    p3.y,\n    p4.x,\n    p4.y,\n    calcIntersection\n  );\n};\n\np5.prototype.collide_line_rect = function (\n  x1,\n  y1,\n  x2,\n  y2,\n  rx,\n  ry,\n  rw,\n  rh,\n  calcIntersection\n) {\n  // check if the line has hit any of the rectangle's sides. uses the collideLineLine function above\n  var left, right, top, bottom, intersection;\n\n  if (calcIntersection) {\n    left = this.collide_line_line(x1, y1, x2, y2, rx, ry, rx, ry + rh, true);\n    right = this.collide_line_line(\n      x1,\n      y1,\n      x2,\n      y2,\n      rx + rw,\n      ry,\n      rx + rw,\n      ry + rh,\n      true\n    );\n    top = this.collide_line_line(x1, y1, x2, y2, rx, ry, rx + rw, ry, true);\n    bottom = this.collide_line_line(\n      x1,\n      y1,\n      x2,\n      y2,\n      rx,\n      ry + rh,\n      rx + rw,\n      ry + rh,\n      true\n    );\n    intersection = {\n      left: left,\n      right: right,\n      top: top,\n      bottom: bottom,\n    };\n  } else {\n    //return booleans\n    left = this.collide_line_line(x1, y1, x2, y2, rx, ry, rx, ry + rh);\n    right = this.collide_line_line(\n      x1,\n      y1,\n      x2,\n      y2,\n      rx + rw,\n      ry,\n      rx + rw,\n      ry + rh\n    );\n    top = this.collide_line_line(x1, y1, x2, y2, rx, ry, rx + rw, ry);\n    bottom = this.collide_line_line(\n      x1,\n      y1,\n      x2,\n      y2,\n      rx,\n      ry + rh,\n      rx + rw,\n      ry + rh\n    );\n  }\n\n  // if ANY of the above are true, the line has hit the rectangle\n  if (left || right || top || bottom) {\n    if (calcIntersection) {\n      return intersection;\n    }\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collideLineRect\np5.prototype.collide_line_rect_vector = function (\n  p1,\n  p2,\n  r,\n  rsz,\n  calcIntersection\n) {\n  return p5.prototype.collide_line_rect(\n    p1.x,\n    p1.y,\n    p2.x,\n    p2.y,\n    r.x,\n    r.y,\n    rsz.x,\n    rsz.y,\n    calcIntersection\n  );\n};\n\np5.prototype.collide_point_poly = function (px, py, vertices) {\n  var collision = false;\n\n  // go through each of the vertices, plus the next vertex in the list\n  var next = 0;\n  for (var current = 0; current < vertices.length; current++) {\n    // get next vertex in list if we've hit the end, wrap around to 0\n    next = current + 1;\n    if (next === vertices.length) next = 0;\n\n    // get the PVectors at our current position this makes our if statement a little cleaner\n    var vc = vertices[current]; // c for \"current\"\n    var vn = vertices[next]; // n for \"next\"\n\n    // compare position, flip 'collision' variable back and forth\n    if (\n      ((vc.y >= py && vn.y < py) || (vc.y < py && vn.y >= py)) &&\n      px < ((vn.x - vc.x) * (py - vc.y)) / (vn.y - vc.y) + vc.x\n    ) {\n      collision = !collision;\n    }\n  }\n  return collision;\n};\n\n// p5.vector version of collidePointPoly\np5.prototype.collide_point_poly_vector = function (p1, vertices) {\n  return p5.prototype.collide_point_poly(p1.x, p1.y, vertices);\n};\n\n// POLYGON/CIRCLE\np5.prototype.collide_circle_poly = function (\n  cx,\n  cy,\n  diameter,\n  vertices,\n  interior\n) {\n  if (interior === undefined) {\n    interior = false;\n  }\n\n  // go through each of the vertices, plus the next vertex in the list\n  var next = 0;\n  for (var current = 0; current < vertices.length; current++) {\n    // get next vertex in list if we've hit the end, wrap around to 0\n    next = current + 1;\n    if (next === vertices.length) next = 0;\n\n    // get the PVectors at our current position this makes our if statement a little cleaner\n    var vc = vertices[current]; // c for \"current\"\n    var vn = vertices[next]; // n for \"next\"\n\n    // check for collision between the circle and a line formed between the two vertices\n    var collision = this.collide_line_circle(\n      vc.x,\n      vc.y,\n      vn.x,\n      vn.y,\n      cx,\n      cy,\n      diameter\n    );\n    if (collision) return true;\n  }\n\n  // test if the center of the circle is inside the polygon\n  if (interior === true) {\n    var centerInside = this.collide_point_poly(cx, cy, vertices);\n    if (centerInside) return true;\n  }\n\n  // otherwise, after all that, return false\n  return false;\n};\n\n// p5.vector version of collideCirclePoly\np5.prototype.collide_circle_poly_vector = function (\n  c,\n  diameter,\n  vertices,\n  interior\n) {\n  return p5.prototype.collide_circle_poly(\n    c.x,\n    c.y,\n    diameter,\n    vertices,\n    interior\n  );\n};\n\np5.prototype.collide_rect_poly = function (rx, ry, rw, rh, vertices, interior) {\n  if (interior == undefined) {\n    interior = false;\n  }\n\n  // go through each of the vertices, plus the next vertex in the list\n  var next = 0;\n  for (var current = 0; current < vertices.length; current++) {\n    // get next vertex in list if we've hit the end, wrap around to 0\n    next = current + 1;\n    if (next === vertices.length) next = 0;\n\n    // get the PVectors at our current position this makes our if statement a little cleaner\n    var vc = vertices[current]; // c for \"current\"\n    var vn = vertices[next]; // n for \"next\"\n\n    // check against all four sides of the rectangle\n    var collision = this.collide_line_rect(\n      vc.x,\n      vc.y,\n      vn.x,\n      vn.y,\n      rx,\n      ry,\n      rw,\n      rh\n    );\n    if (collision) return true;\n\n    // optional: test if the rectangle is INSIDE the polygon note that this iterates all sides of the polygon again, so only use this if you need to\n    if (interior === true) {\n      var inside = this.collide_point_poly(rx, ry, vertices);\n      if (inside) return true;\n    }\n  }\n\n  return false;\n};\n\n// p5.vector version of collideRectPoly\np5.prototype.collide_rect_poly_vector = function (r, rsz, vertices, interior) {\n  return p5.prototype.collide_rect_poly(\n    r.x,\n    r.y,\n    rsz.x,\n    rsz.y,\n    vertices,\n    interior\n  );\n};\n\np5.prototype.collide_line_poly = function (x1, y1, x2, y2, vertices) {\n  // go through each of the vertices, plus the next vertex in the list\n  var next = 0;\n  for (var current = 0; current < vertices.length; current++) {\n    // get next vertex in list if we've hit the end, wrap around to 0\n    next = current + 1;\n    if (next === vertices.length) next = 0;\n\n    // get the PVectors at our current position extract X/Y coordinates from each\n    var x3 = vertices[current].x;\n    var y3 = vertices[current].y;\n    var x4 = vertices[next].x;\n    var y4 = vertices[next].y;\n\n    // do a Line/Line comparison if true, return 'true' immediately and stop testing (faster)\n    var hit = this.collide_line_line(x1, y1, x2, y2, x3, y3, x4, y4);\n    if (hit) {\n      return true;\n    }\n  }\n  // never got a hit\n  return false;\n};\n\n// p5.vector version of collideLinePoly\np5.prototype.collide_line_poly_vector = function (p1, p2, vertice) {\n  return p5.prototype.collide_line_poly(p1.x, p1.y, p2.x, p2.y, vertice);\n};\n\np5.prototype.collide_poly_poly = function (p1, p2, interior) {\n  if (interior === undefined) {\n    interior = false;\n  }\n\n  // go through each of the vertices, plus the next vertex in the list\n  var next = 0;\n  for (var current = 0; current < p1.length; current++) {\n    // get next vertex in list, if we've hit the end, wrap around to 0\n    next = current + 1;\n    if (next === p1.length) next = 0;\n\n    // get the PVectors at our current position this makes our if statement a little cleaner\n    var vc = p1[current]; // c for \"current\"\n    var vn = p1[next]; // n for \"next\"\n\n    //use these two points (a line) to compare to the other polygon's vertices using polyLine()\n    var collision = this.collide_line_poly(vc.x, vc.y, vn.x, vn.y, p2);\n    if (collision) return true;\n\n    //check if the either polygon is INSIDE the other\n    if (interior === true) {\n      collision = this.collide_point_poly(p2[0].x, p2[0].y, p1);\n      if (collision) return true;\n      collision = this.collide_point_poly(p1[0].x, p1[0].y, p2);\n      if (collision) return true;\n    }\n  }\n\n  return false;\n};\n\np5.prototype.collide_poly_poly_vector = function (p1, p2, interior) {\n  return p5.prototype.collide_poly_poly(p1, p2, interior);\n};\n\np5.prototype.collide_point_triangle = function (\n  px,\n  py,\n  x1,\n  y1,\n  x2,\n  y2,\n  x3,\n  y3\n) {\n  // get the area of the triangle\n  var areaOrig = this.abs((x2 - x1) * (y3 - y1) - (x3 - x1) * (y2 - y1));\n\n  // get the area of 3 triangles made between the point and the corners of the triangle\n  var area1 = this.abs((x1 - px) * (y2 - py) - (x2 - px) * (y1 - py));\n  var area2 = this.abs((x2 - px) * (y3 - py) - (x3 - px) * (y2 - py));\n  var area3 = this.abs((x3 - px) * (y1 - py) - (x1 - px) * (y3 - py));\n\n  // if the sum of the three areas equals the original, we're inside the triangle!\n  if (area1 + area2 + area3 === areaOrig) {\n    return true;\n  }\n  return false;\n};\n\n// p5.vector version of collidePointTriangle\np5.prototype.collide_point_triangle_vector = function (p, p1, p2, p3) {\n  return p5.prototype.collide_point_triangle(\n    p.x,\n    p.y,\n    p1.x,\n    p1.y,\n    p2.x,\n    p2.y,\n    p3.x,\n    p3.y\n  );\n};\n\np5.prototype.collide_point_point = function (x, y, x2, y2, buffer) {\n  if (buffer === undefined) {\n    buffer = 0;\n  }\n\n  if (this.dist(x, y, x2, y2) <= buffer) {\n    return true;\n  }\n\n  return false;\n};\n\n// p5.vector version of collidePointPoint\np5.prototype.collide_point_point_vector = function (p1, p2, buffer) {\n  return p5.prototype.collide_point_point(p1.x, p1.y, p2.x, p2.y, buffer);\n};\n//  TODO - accommodate arcs with unequal width and height\np5.prototype.collide_point_arc = function (\n  px,\n  py,\n  ax,\n  ay,\n  arcRadius,\n  arcHeading,\n  arcAngle,\n  buffer\n) {\n  if (buffer === undefined) {\n    buffer = 0;\n  }\n  // point\n  var point = this.createVector(px, py);\n  // arc center point\n  var arcPos = this.createVector(ax, ay);\n  // arc radius vector\n  var radius = this.createVector(arcRadius, 0).rotate(arcHeading);\n\n  var pointToArc = point.copy().sub(arcPos);\n\n  if (point.dist(arcPos) <= arcRadius + buffer) {\n    var dot = radius.dot(pointToArc);\n    var angle = radius.angleBetween(pointToArc);\n    if (dot > 0 && angle <= arcAngle / 2 && angle >= -arcAngle / 2) {\n      return true;\n    }\n  }\n  return false;\n};\n\n// p5.vector version of collidePointArc\np5.prototype.collide_point_arc_vector = function (\n  p1,\n  a,\n  arcRadius,\n  arcHeading,\n  arcAngle,\n  buffer\n) {\n  return p5.prototype.collide_point_arc(\n    p1.x,\n    p1.y,\n    a.x,\n    a.y,\n    arcRadius,\n    arcHeading,\n    arcAngle,\n    buffer\n  );\n};\n","import {\n  defineProperties,\n  defineRendererGetterSetters,\n} from \"../utils/p5Modifiers\";\nimport { P5Function, P5Function } from \"./core\";\n\nconst transformVertexFn = (el) => (v) => {\n  const originalPoint = new DOMPoint(v.x, v.y);\n  const { x, y } = el.pInst._transform_point_matrix(\n    originalPoint,\n    el.transform_matrix\n  );\n  return el.pInst.createVector(x, y);\n};\n/**\n * Draws an arc to the screen. If called with only x, y, w, h, start and stop\n * the arc will be drawn and filled as an open pie segment. If a mode\n * parameter is provided, the arc will be filled like an open semi-circle\n * (OPEN), a closed semi-circle (CHORD), or as a closed pie segment (PIE).\n * The origin may be changed with the ellipseMode() function.\n *\n * The arc is always drawn clockwise from wherever start falls to wherever\n * stop falls on the ellipse. Adding or subtracting TWO_PI to either angle\n * does not change where they fall. If both start and stop fall at the same\n * place, a full ellipse will be drawn. Be aware that the y-axis increases in\n * the downward direction, therefore angles are measured clockwise from the\n * positive x-direction (\"3 o'clock\").\n * @element arc\n * @attr {Number} x - x-coordinate of the arc's ellipse\n * @attr {Number} y - y-coordinate of the arc's ellipse\n * @attr {Number} w - width of the arc's ellipse by default (affected by ellipse_mode)\n * @attr {Number} h - height of the arc's ellipse by default (affected by ellipse_mode)\n * @attr {Number} start - angle to start the arc, specified in radians\n * @attr {Number} stop - angle to stop the arc, specified in radians\n * @attr {Constant} mode - determines the way of drawing the arc. either\n * CHORD, PIE or OPEN.\n * @attr {Integer} detail - optional parameter for WebGL mode only. This is\n * to specify the number of vertices that makes up the perimeter of the arc.\n * Default value is 25. Won't draw a stroke for a detail of more than 50.\n */\nclass Arc extends P5Function {\n  constructor() {\n    super([\"x, y, w, h, start_angle, stop_angle, [mode], [detail], [a]\"]);\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    const { x, y, w, h, start_angle, stop_angle } = this.this_element;\n    console.assert(\n      w === h,\n      \"mouse_over currently only works for arc's with equal width and height.\"\n    );\n    const arcRadius = w / 2;\n    const arcAngle = stop_angle - start_angle;\n    const arcRotation = start_angle + arcAngle / 2;\n\n    return this.pInst.collide_point_arc(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x,\n      y,\n      arcRadius,\n      arcRotation,\n      arcAngle\n    );\n  }\n}\ncustomElements.define(\"p-arc\", Arc);\n/**\n * Draws an ellipse (oval) to the screen. If no height is specified, the\n * value of width is used for both the width and height. If a\n * negative height or width is specified, the absolute value is taken.\n *\n * An ellipse with equal width and height is a circle. The origin may be\n * changed with the ellipseMode() function.\n * @element ellipse\n * @attr {Number} x - x-coordinate of the center of the ellipse\n * @attr {Number} y - y-coordinate of the center of the ellipse\n * @attr {Number} w - width of the ellipse\n * @attr {Number} h - height of the ellipse\n * @attr {Integer} detail - For WEBGL mode only. This is to specify the\n * number of vertices that makes up the perimeter of the ellipse. Default\n * value is 25. Won't draw a stroke for a detail of more than 50.\n */\nclass Ellipse extends P5Function {\n  constructor() {\n    super([\"x, y, w, [h]\", \"x, y, w, h, [detail]\"]);\n  }\n  collider = p5.prototype.collider_type.ellipse;\n  get collision_args() {\n    const originalPoint = new DOMPoint(\n      this.this_element.x,\n      this.this_element.y\n    );\n    const { x, y } = this.pInst._transform_point_matrix(\n      originalPoint,\n      this.transform_matrix\n    );\n    const { pixel_density } = this.pInst;\n    const { w } = this.this_element * pixel_density;\n    const { h } = this.this_element.h * pixel_density || w;\n    return [x, y, w, h];\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    const { x, y, w, h } = this.this_element;\n    return this.pInst.collide_point_ellipse(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x,\n      y,\n      w,\n      h\n    );\n  }\n}\ncustomElements.define(\"p-ellipse\", Ellipse);\n/**\n * Draws a circle to the screen. A circle is a simple closed shape. It is the\n * set of all points in a plane that are at a given distance from a given\n * point, the center.\n * @element circle\n * @attr {Number} x - x-coordinate of the center of the circle\n * @attr {Number} y - y-coordinate of the center of the circle\n * @attr {Number} d - diameter of the circle\n */\nclass Circle extends P5Function {\n  constructor() {\n    super([\"x, y, d\"]);\n  }\n  collider = p5.prototype.collider_type.circle;\n  get collision_args() {\n    const originalPoint = new DOMPoint(\n      this.this_element.x,\n      this.this_element.y\n    );\n    const { x, y } = this.pInst._transform_point_matrix(\n      originalPoint,\n      this.transform_matrix\n    );\n    const d = this.this_element.d * this.pInst.pow(this.pInst.pixel_density, 2);\n    return [x, y, d];\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    const { x, y, d } = this.this_element;\n    return this.pInst.collide_point_circle(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x,\n      y,\n      d\n    );\n  }\n}\ncustomElements.define(\"p-circle\", Circle);\n/**\n * Draws a line (a direct path between two points) to the screen. This width\n * can be modified by using the stroke_weight attribute. A line cannot be\n * filled, therefore the fill_color attribute will not affect the color of a\n * line. So to color a line, use the stroke_color attribute.\n * @element line\n * @attr {Number} x1 - x-coordinate of the first point\n * @attr {Number} y1 - y-coordinate of the first point\n * @attr {Number} x2 - x-coordinate of the second point\n * @attr {Number} y2 - y-coordinate of the second point\n * @attr {Number} z1 - z-coordinate of the first point (WEBGL mode)\n * @attr {Number} z2 - z-coordinate of the second point (WEBGL mode)\n */\nclass Line extends P5Function {\n  constructor() {\n    super([\"x1, y1, x2, y2\", \"x1, y1, z1, x2, y2, z2\"]);\n  }\n  collider = p5.prototype.collider_type.line;\n  get collision_args() {\n    const originalStart = new DOMPoint(\n      this.this_element.x1,\n      this.this_element.y1\n    );\n    const { x: x1, y: y1 } = this.pInst._transform_point_matrix(\n      originalStart,\n      this.transform_matrix\n    );\n    const originalEnd = new DOMPoint(\n      this.this_element.x2,\n      this.this_element.y2\n    );\n    const { x: x2, y: y2 } = this.pInst._transform_point_matrix(\n      originalEnd,\n      this.transform_matrix\n    );\n    return [x1, y1, x2, y2];\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    const { x1, y1, x2, y2 } = this.this_element;\n    return this.pInst.collide_point_line(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x1,\n      y1,\n      x2,\n      y2\n    );\n  }\n}\ncustomElements.define(\"p-line\", Line);\n/**\n * Draws a point, a coordinate in space at the dimension of one pixel. The\n * color of the point is changed with the stroke_color attribute. The size of\n * the point can be changed with the stroke_weight attribute.\n * @element point\n * @attr {Number} x - x-coordinate\n * @attr {Number} y - y-coordinate\n * @attr {Number} z - z-coordinate (WEBGL mode)\n */\nclass Point extends P5Function {\n  constructor() {\n    super([\"x, y, [z]\", \"coordinate_vector\"]);\n  }\n  collider = p5.prototype.collider_type.circle;\n  get collision_args() {\n    const originalPoint = new DOMPoint(\n      this.this_element.x,\n      this.this_element.y\n    );\n    const { x, y } = this.pInst._transform_point_matrix(\n      originalPoint,\n      this.transform_matrix\n    );\n    const { stroke_weight, pixel_density } = this.pInst;\n    const d = stroke_weight * this.pInst.pow(pixel_density, 2);\n    return [x, y, d];\n  }\n  get mouse_over() {\n    const {\n      x,\n      y,\n      stroke_weight,\n      pixel_density,\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n    } = this.this_element;\n    const d = stroke_weight * this.pInst.pow(pixel_density, 2);\n    return this.pInst.collide_point_circle(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x,\n      y,\n      d\n    );\n  }\n}\ncustomElements.define(\"p-point\", Point);\n/**\n * Draws a quad on the canvas. A quad is a quadrilateral, a four-sided\n * polygon. It is similar to a rectangle, but the angles between its edges\n * are not constrained to ninety degrees. The x1 and y1 attributes set the\n * first vertex and the subsequent pairs should proceed clockwise or\n * counter-clockwise around the defined shape. z attributes only work when\n * quad() is used in WEBGL mode.\n * @element quad\n * @attr {Number} x1 - x-coordinate of the first point\n * @attr {Number} y1 - y-coordinate of the first point\n * @attr {Number} x2 - x-coordinate of the second point\n * @attr {Number} y2 - y-coordinate of the second point\n * @attr {Number} x3 - x-coordinate of the third point\n * @attr {Number} y3 - y-coordinate of the third point\n * @attr {Number} x4 - x-coordinate of the fourth point\n * @attr {Number} y4 - y-coordinate of the fourth point\n * @attr {Integer} detail_x - number of segments in the x-direction (WEBGL mode)\n * @attr {Integer} detail_y - number of segments in the y-direction (WEBGL mode)\n * @attr {Number} z1 - z-coordinate of the first point (WEBGL mode)\n * @attr {Number} z2 - z-coordinate of the second point (WEBGL mode)\n * @attr {Number} z3 - z-coordinate of the third point (WEBGL mode)\n * @attr {Number} z4 - z-coordinate of the fourth point (WEBGL mode)\n */\nclass Quad extends P5Function {\n  constructor() {\n    super([\n      \"x1, y1, x2, y2, x3, y3, x4, y4, [detail_x], [detail_y]\",\n      \"x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4, [detail_x], [detail_y]\",\n    ]);\n  }\n  collider = p5.prototype.collider_type.poly;\n  get collision_args() {\n    return [this.vertices.map(transformVertexFn(this))];\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    return this.pInst.collide_point_poly(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      this.vertices\n    );\n  }\n  get vertices() {\n    const { x1, y1, x2, y2, x3, y3, x4, y4 } = this.this_element;\n    return [\n      this.pInst.createVector(x1, y1),\n      this.pInst.createVector(x2, y2),\n      this.pInst.createVector(x3, y3),\n      this.pInst.createVector(x4, y4),\n    ];\n  }\n}\ncustomElements.define(\"p-quad\", Quad);\n/**\n * Draws a rectangle on the canvas. A rectangle is a four-sided closed shape\n * with every angle at ninety degrees. By default, the x and y attributes\n * set the location of the upper-left corner, w sets the width, and h sets\n * the height. The way these attributes are interpreted may be changed with\n * the rect_mode attribute.\n *\n * The tl, tr, br and bl attributes, if specified, determine\n * corner radius for the top-left, top-right, lower-right and lower-left\n * corners, respectively. An omitted corner radius parameter is set to the\n * value of the previously specified radius value in the attribute list.\n * @element rect\n * @attr  {Number} x - x-coordinate of the rectangle.\n * @attr  {Number} y - y-coordinate of the rectangle.\n * @attr  {Number} w - width of the rectangle.\n * @attr  {Number} h - height of the rectangle.\n * @attr  {Number} tl - radius of top-left corner.\n * @attr  {Number} tr - radius of top-right corner.\n * @attr  {Number} br - radius of bottom-right corner.\n * @attr  {Number} bl - radius of bottom-left corner.\n */\nclass Rect extends P5Function {\n  constructor() {\n    super([\n      \"x, y, w, [h], [tl], [tr], [br], [bl]\",\n      \"x, y, w, h, [detail_x], [detail_y]\",\n    ]);\n  }\n  collider = p5.prototype.collider_type.rect;\n  get collision_args() {\n    const originalPoint = new DOMPoint(\n      this.this_element.x,\n      this.this_element.y\n    );\n    const { x, y } = this.pInst._transform_point_matrix(\n      originalPoint,\n      this.transform_matrix\n    );\n    const { pixel_density } = this.pInst;\n    const w = this.this_element.w * this.pInst.pow(pixel_density, 2);\n    const h = this.this_element.h * this.pInst.pow(pixel_density, 2);\n    return [x, y, w, h];\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    const { x, y, w, h } = this.this_element;\n    return this.pInst.collide_point_rect(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x,\n      y,\n      w,\n      h\n    );\n  }\n}\ncustomElements.define(\"p-rect\", Rect);\n/**\n * Draws a square to the screen. A square is a four-sided shape with every\n * angle at ninety degrees, and equal side size. This element is a special\n * case of the rect element, where the width and height are the same, and the\n * attribute is called \"s\" for side size. By default, the x and y attributes\n * set the location of the upper-left corner, and s sets the side size of the\n * square. The way these attributes are interpreted, may be changed with the\n * rect_mode attribute.\n *\n * The tl, tr, br, and bl attributes, if specified, determine corner radius\n * for the top-left, top-right, lower-right and lower-left corners,\n * respectively. An omitted corner radius attribute is set to the value of\n * the previously specified radius value in the attribute list.\n *\n * @element square\n * @attr  {Number} x - x-coordinate of the square.\n * @attr  {Number} y - y-coordinate of the square.\n * @attr  {Number} s - side size of the square.\n * @attr  {Number} tl - radius of top-left corner.\n * @attr  {Number} tr - radius of top-right corner.\n * @attr  {Number} br - radius of bottom-right corner.\n * @attr  {Number} bl - radius of bottom-left corner.\n */\nclass Square extends P5Function {\n  constructor() {\n    super([\"x, y, s, [tl], [tr], [br], [bl]\"]);\n  }\n  collider = p5.prototype.collider_type.rect;\n  get collision_args() {\n    const originalPoint = new DOMPoint(\n      this.this_element.x,\n      this.this_element.y\n    );\n    const { x, y } = this.pInst._transform_point_matrix(\n      originalPoint,\n      this.transform_matrix\n    );\n    const { pixel_density } = this.pInst;\n    const { s } = this.this_element;\n    const w = s * this.pInst.pow(pixel_density, 2);\n    const h = w;\n    return [x, y, w, h];\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    const { x, y, s } = this.this_element;\n    return this.pInst.collide_point_rect(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x,\n      y,\n      s,\n      s\n    );\n  }\n}\ncustomElements.define(\"p-square\", Square);\nclass Triangle extends P5Function {\n  constructor() {\n    const overloads = [\"x1, y1, x2, y2, x3, y3\"];\n    super(overloads);\n  }\n  collider = p5.prototype.collider_type.poly;\n  get collision_args() {\n    return [this.vertices.map(transformVertexFn(this))];\n  }\n  get mouse_over() {\n    const { mouse_trans_pos_x, mouse_trans_pos_y } = this.pInst;\n    const { x1, y1, x2, y2, x3, y3 } = this.this_element;\n    return this.pInst.collide_point_triangle(\n      mouse_trans_pos_x,\n      mouse_trans_pos_y,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3,\n      y3\n    );\n  }\n  get vertices() {\n    const { x1, y1, x2, y2, x3, y3 } = this.this_element;\n    return [\n      this.pInst.createVector(x1, y1),\n      this.pInst.createVector(x2, y2),\n      this.pInst.createVector(x3, y3),\n    ];\n  }\n}\ncustomElements.define(\"p-triangle\", Triangle);\nclass Bezier extends P5Function {\n  constructor() {\n    super([\n      \"x1, y1, x2, y2, x3, y3, x4, y4\",\n      \"x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4\",\n    ]);\n  }\n}\ncustomElements.define(\"p-bezier\", Bezier);\nclass Curve extends P5Function {\n  constructor() {\n    super([\n      \"x1, y1, x2, y2, x3, y3, x4, y4\",\n      \"x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4\",\n    ]);\n  }\n}\ncustomElements.define(\"p-curve\", Curve);\nclass Contour extends P5Function {\n  constructor() {\n    super([\"\"], \"beginContour\");\n  }\n  endRender() {\n    this.pInst.endContour();\n  }\n}\ncustomElements.define(\"p-contour\", Contour);\nclass Shape extends P5Function {\n  constructor() {\n    super([\"[kind]\"], \"beginShape\");\n  }\n  collider = p5.prototype.collider_type.poly;\n  get collision_args() {\n    return [this.vertices.map(transformVertexFn(this))];\n  }\n  endRender(assigned) {\n    if (assigned.hasOwnProperty(\"mode\")) this.pInst.endShape(assigned.mode);\n    else this.pInst.endShape();\n  }\n  get vertices() {\n    const arrayFromChildren = (el) => {\n      const ca = Array.from(el.children);\n      return ca.concat(ca.map(arrayFromChildren)).flat();\n    };\n    const childArray = arrayFromChildren(this);\n    const vertexChildren = childArray.filter(\n      (el) => el instanceof Vertex && el.this_element\n    );\n    const vertices = vertexChildren.map((el) => {\n      if (el instanceof QuadraticVertex) {\n        const { x3, y3 } = el.this_element;\n        return this.pInst.createVector(x3, y3);\n      }\n      const { x, y } = el.this_element;\n      return this.pInst.createVector(x, y);\n    });\n    return vertices.concat(vertices.slice(0));\n  }\n}\ncustomElements.define(\"p-shape\", Shape);\nclass Vertex extends P5Function {\n  constructor() {\n    super([\"x, y\", \"x, y, [z]\", \"x, y, [z], [u], [v]\"]);\n  }\n}\ncustomElements.define(\"p-vertex\", Vertex);\n\nclass QuadraticVertex extends P5Function {\n  constructor() {\n    super([\"cx, cy, x3, y3\", \"cx, cy, cz, x3, y3, z3\"]);\n  }\n}\ncustomElements.define(\"p-quadratic-vertex\", QuadraticVertex);\nclass CurveVertex extends P5Function {\n  constructor() {\n    super([\"x, y\", \"x, y, [z]\"]);\n  }\n}\ncustomElements.define(\"p-curve-vertex\", CurveVertex);\nclass Normal extends P5Function {\n  constructor() {\n    super([\"vector\", \"x, y, z\"]);\n  }\n}\ncustomElements.define(\"p-normal\", Normal);\nclass Plane extends P5Function {\n  constructor() {\n    super(\"[w], [h], [detail_x], [detail_y]\");\n  }\n}\ncustomElements.define(\"p-plane\", Plane);\nclass Box extends P5Function {\n  constructor() {\n    super([\"[w], [h], [depth], [detail_x], [detail_y]\"]);\n  }\n}\ncustomElements.define(\"p-box\", Box);\nclass Sphere extends P5Function {\n  constructor() {\n    super([\"[radius], [detail_x], [detail_y]\"]);\n  }\n}\ncustomElements.define(\"p-sphere\", Sphere);\nclass Cylinder extends P5Function {\n  constructor() {\n    super([\"[radius], [h], [detail_x], [detail_y], [bottomCap], [topCap]\"]);\n  }\n}\ncustomElements.define(\"p-cylinder\", Cylinder);\nclass Cone extends P5Function {\n  constructor() {\n    super([\"[radius], [h], [detail_x], [detail_y], [cap]\"]);\n  }\n}\ncustomElements.define(\"p-cone\", Cone);\nclass Ellipsoid extends P5Function {\n  constructor() {\n    super([\"[radius_x], [radius_y], [radius_z], [detail_x], [detail_y]\"]);\n  }\n}\ncustomElements.define(\"p-ellipsoid\", Ellipsoid);\nclass Torus extends P5Function {\n  constructor() {\n    super([\"[radius], [tubeRadius], [detailX], [detailY]\"]);\n  }\n}\ncustomElements.define(\"p-torus\", Torus);\n//  TODO - test when preload implemented\nclass LoadModel extends P5Function {\n  constructor() {\n    super([\n      \"path, normalize, [successCallback], [failureCallback], [fileType]\",\n      \"path, [successCallback], [failureCallback], [fileType]\",\n    ]);\n  }\n}\ncustomElements.define(\"p-load-model\", LoadModel);\nclass Model extends P5Function {\n  constructor() {\n    super([\"model\"]);\n  }\n}\ncustomElements.define(\"p-model\", Model);\n\nconst pointTangentOverload = (fn) =>\n  function () {\n    const args = arguments;\n    if (args.length !== 9) return fn(...args);\n    return this.createVector(\n      fn(args[0], args[2], args[4], args[6], args[8]),\n      fn(args[1], args[3], args[5], args[7], args[8])\n    );\n  };\np5.prototype.bezierPoint = pointTangentOverload(p5.prototype.bezierPoint);\np5.prototype.bezierTangent = pointTangentOverload(p5.prototype.bezierTangent);\np5.prototype.curvePoint = pointTangentOverload(p5.prototype.curvePoint);\np5.prototype.curveTangent = pointTangentOverload(p5.prototype.curveTangent);\np5.prototype.yesSmooth = p5.prototype.smooth;\n\ndefineRendererGetterSetters(\"ellipseMode\", \"rectMode\", \"curveTightness\");\n\ndefineProperties({\n  smooth: {\n    get: function () {\n      if (this._renderer?.isP3D)\n        return this._renderer._pInst._glAttributes?.antialias;\n      return this.drawingContext?.imageSmoothingEnabled;\n    },\n    set: function (val) {\n      if (val) this.yesSmooth();\n      else this.noSmooth();\n    },\n  },\n  stroke_cap: {\n    get: function () {\n      if (this._renderer?.isP3D) return this._renderer.strokeCap();\n      return this.drawingContext?.lineCap;\n    },\n    set: function (val) {\n      this.strokeCap(val);\n    },\n  },\n  stroke_join: {\n    get: function () {\n      if (this._renderer?.isP3D) return this._renderer.strokeJoin();\n      return this.drawingContext?.lineJoin;\n    },\n    set: function (val) {\n      this.strokeJoin(val);\n    },\n  },\n  stroke_weight: {\n    get: function () {\n      if (this._renderer?.isP3D) return this._renderer.curStrokeWeight;\n      return this.drawingContext?.lineWidth;\n    },\n    set: function (val) {\n      this.strokeWeight(val);\n    },\n  },\n  bezier_detail: {\n    get: function () {\n      return this._renderer?._pInst._bezierDetail;\n    },\n    set: function (val) {\n      this.bezierDetail(val);\n    },\n  },\n  curve_detail: {\n    get: function () {\n      return this._renderer?._pInst._curveDetail;\n    },\n    set: function (val) {\n      this.curveDetail(val);\n    },\n  },\n});\n","import { defineProperties } from \"../utils/p5Modifiers\";\n\ndefineProperties({\n  animate: {\n    get: function () {\n      return this.isLooping();\n    },\n    set: function (val) {\n      if (val) this.loop();\n      else this.noLoop();\n    },\n  },\n  remove_canvas: {\n    get: function () {\n      return false;\n    },\n    set: function () {\n      this.remove();\n    },\n  },\n});\n","import { defineSnakeAlias } from \"../utils/p5Modifiers\";\n\ndefineSnakeAlias(\n  \"selectAll\",\n  \"removeElements\",\n  \"createDiv\",\n  \"createP\",\n  \"createSpan\",\n  \"createImg\",\n  \"createA\",\n  \"createSlider\",\n  \"createButton\",\n  \"createCheckbox\",\n  \"createSelect\",\n  \"createRadio\",\n  \"createColorPicker\",\n  \"createInput\",\n  \"createFileInput\",\n  \"createVideo\",\n  \"createAudio\",\n  \"createCapture\",\n  \"createElement\"\n);\n","import { defineSnakeAlias } from \"../utils/p5Modifiers\";\n\ndefineSnakeAlias(\n  \"createStringDict\",\n  \"createNumberDict\",\n  \"matchAll\",\n  \"splitTokens\"\n);\np5.prototype.storage = {};\np5.prototype.registerMethod(\"init\", function () {\n  this._setProperty(\n    \"storage\",\n    new Proxy(this, {\n      get(target, prop) {\n        if (prop === \"clear\") return target.clearStorage;\n        if (prop === \"remove\") return target.removeItem;\n        return target.getItem(prop);\n      },\n      set(target, prop, val) {\n        target.storeItem(prop, val);\n        return true;\n      },\n    })\n  );\n});\n","import { defineProperties, defineSnakeAlias } from \"../utils/p5Modifiers\";\n\ndefineSnakeAlias(\"createVector\");\n\ndefineProperties({\n  angle_mode: {\n    get: function () {\n      return this._angleMode;\n    },\n    set: function (mode) {\n      this._setProperty(\"_angleMode\", mode);\n    },\n  },\n  noise_detail: {\n    set: function () {\n      this.noiseDetail(...arguments);\n    },\n  },\n  noise_seed: {\n    set: function () {\n      this.noiseSeed(...arguments);\n    },\n  },\n  random_seed: {\n    get: function () {\n      return this._lcg_random_state;\n    },\n    set: function () {\n      this.randomSeed(...arguments);\n    },\n  },\n});\n","import { defineProperties, defineSnakeAlias } from \"../utils/p5Modifiers\";\n\ndefineSnakeAlias(\"createCanvas\", \"createGraphics\");\n\ndefineProperties({\n  blend_mode: {\n    get: function () {\n      if (this._renderer?.isP3D) return this.curBlendMode;\n      return this.drawingContext?.globalCompositeOperation;\n    },\n    set: function (val) {\n      this.blendMode(val);\n    },\n  },\n  drawing_context: {\n    get: function () {\n      return this.drawingContext;\n    },\n  },\n  set_webgl_attr: {\n    set: function () {\n      this.setAttributes(...arguments);\n    },\n  },\n});\n","import { defineProperties, wrapMethod } from \"../utils/p5Modifiers\";\n\nconst defaultAnchor = p5.prototype.createVector();\nconst defaultAngle = p5.prototype.createVector();\nconst defaultShear = p5.prototype.createVector();\nconst defaultScale = p5.prototype.createVector(1, 1, 1);\nconst wrap = function (renderer) {\n  function wrappedRenderer() {\n    renderer.apply(this, arguments);\n    this._anchorStack = [defaultAnchor.copy()];\n    this._angleStack = [defaultAngle.copy()];\n    this._scaleStack = [defaultScale.copy()];\n    this._shearStack = [defaultShear.copy()];\n  }\n  wrappedRenderer.prototype = Object.create(renderer.prototype);\n  return wrappedRenderer;\n};\np5.Renderer = wrap(p5.Renderer);\n\nwrapMethod(\n  \"push\",\n  (base) =>\n    function () {\n      this._renderer._anchorStack.push(defaultAnchor.copy());\n      this._renderer._angleStack.push(defaultAngle.copy());\n      this._renderer._scaleStack.push(defaultScale.copy());\n      this._renderer._shearStack.push(defaultShear.copy());\n      base.call(this);\n    }\n);\n\nwrapMethod(\n  \"pop\",\n  (base) =>\n    function () {\n      this._renderer._anchorStack.pop();\n      this._renderer._angleStack.pop();\n      this._renderer._scaleStack.pop();\n      this._renderer._shearStack.pop();\n      base.call(this);\n    }\n);\n\np5.prototype.RESET = \"reset\";\n\ndefineProperties({\n  anchor: {\n    get: function () {\n      return this._renderer?._anchorStack[\n        this._renderer._anchorStack.length - 1\n      ];\n    },\n    set: function (val) {\n      if (Array.isArray(val))\n        this._renderer._anchorStack[this._renderer._anchorStack.length - 1].set(\n          ...val\n        );\n      else\n        this._renderer._anchorStack[this._renderer._anchorStack.length - 1].set(\n          val\n        );\n      this.translate(this.anchor);\n    },\n  },\n  angle: {\n    get: function () {\n      return this._renderer?._angleStack.slice(-1)[0].z;\n    },\n    set: function (val) {\n      this._renderer._angleStack[this._renderer._anchorStack.length - 1].z =\n        val;\n      this.rotate(this.angle);\n    },\n  },\n  angle_x: {\n    get: function () {\n      return this._renderer?._angleStack.slice(-1)[0].x;\n    },\n    set: function (val) {\n      this._renderer._angleStack[this._renderer._angleStack.length - 1].x = val;\n      this.rotateX(this.angle_x);\n    },\n  },\n  angle_y: {\n    get: function () {\n      return this._renderer?._angleStack.slice(-1)[0].y;\n    },\n    set: function (val) {\n      this._renderer._angleStack[this._renderer._angleStack.length - 1].y = val;\n      this.rotateY(this.angle_y);\n    },\n  },\n  angle_z: {\n    get: function () {\n      return this._renderer?._angleStack.slice(-1)[0].z;\n    },\n    set: function (val) {\n      this._renderer._angleStack[this._renderer._angleStack.length - 1].z = val;\n      this.rotateZ(this.angle_z);\n    },\n  },\n  angle_vector: {\n    get: function () {\n      return this._renderer?._angleStack.slice(-1)[0];\n    },\n    set: function (val) {\n      this._renderer._angleStack[this._renderer._angleStack.length - 1] = val;\n      if (this._renderer.isP3D) {\n        this.rotateX(this.angle_x);\n        this.rotateY(this.angle_y);\n        this.rotateZ(this.angle_z);\n      } else this.rotate(this.angle);\n    },\n  },\n  scale_factor: {\n    get: function () {\n      return this._renderer?._scaleStack.slice(-1)[0];\n    },\n    set: function (val) {\n      if (Array.isArray(val))\n        this._renderer._scaleStack[this._renderer._scaleStack.length - 1].set(\n          ...val\n        );\n      else\n        this._renderer._scaleStack[this._renderer._scaleStack.length - 1].set(\n          val,\n          val,\n          val\n        );\n      this.scale(this.scale_factor);\n    },\n  },\n  shear: {\n    get: function () {\n      return this._renderer?._shearStack.slice(-1)[0];\n    },\n    set: function (val) {\n      if (Array.isArray(val))\n        this._renderer._shearStack[this._renderer._shearStack.length - 1].set(\n          ...val\n        );\n      else\n        this._renderer._shearStack[this._renderer._shearStack.length - 1].set(\n          val\n        );\n      this.shearX(this.shear.x);\n      this.shearY(this.shear.y);\n    },\n  },\n  transform_matrix: {\n    get: function () {\n      if (this._renderer.isP3D) return this._renderer.uMVMatrix;\n      return this.drawingContext?.getTransform();\n    },\n    set: function (val) {\n      if (val === this.RESET) this.resetMatrix();\n      else this.applyMatrix(val);\n    },\n  },\n});\n\np5.prototype.registerMethod(\"pre\", function () {\n  const { anchor, angle_vector, scale_factor, shear } = this;\n  this._renderer._anchorStack = [anchor];\n  this.anchor = anchor;\n\n  this._renderer._angleStack = [angle_vector];\n  this.angle_vector = angle_vector;\n\n  this._renderer._scaleStack = [scale_factor];\n  this.scale_factor = scale_factor;\n\n  this._renderer._shearStack = [shear];\n  this.shear = shear;\n});\n\nconst identityMatrix = new DOMMatrix([\n  1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,\n]);\n\np5.prototype._transform_point_matrix = function (originalPoint, transMatrix) {\n  const pixelDensityMatrix = new DOMMatrix(identityMatrix).scale(\n    this.pixel_density\n  );\n  const scaledMatrix = transMatrix.multiply(pixelDensityMatrix);\n  const transformedPoint = scaledMatrix.transformPoint(originalPoint);\n  return transformedPoint;\n};\n\np5.prototype.untransform_point = function (x, y, z) {\n  const originalPoint = new DOMPoint(x, y, z);\n  return this._transform_point_matrix(originalPoint, this.transform_matrix);\n};\n\np5.prototype.transform_point = function (x, y, z) {\n  const originalPoint = new DOMPoint(x, y, z);\n  return this._transform_point_matrix(\n    originalPoint,\n    this.transform_matrix.inverse()\n  );\n};\n","import {\n  defineProperties,\n  defineSnakeAlias,\n  wrapMethod,\n} from \"../utils/p5Modifiers\";\n\ndefineSnakeAlias(\"deviceOrientation\", \"turnAxis\", \"keyIsDown\");\n\n//  TODO - test on mobile device\np5.prototype.device_moved = false;\n\n//  TODO - test on mobile device\np5.prototype.device_turned = false;\n\np5.prototype.mouse_down = false;\n\np5.prototype.mouse_up = false;\n\np5.prototype.mouse_dragging = false;\n\np5.prototype.mouse_double_clicked = false;\n\np5.prototype._mouseWheel = 0;\n\np5.prototype.key_down = false;\n\np5.prototype.key_up = false;\n\n//  TODO - test on mobile device\np5.prototype.touch_started = false;\np5.prototype.touch_moved = false;\np5.prototype.touch_ended = false;\n\np5.prototype._startAngleZ;\nwrapMethod(\n  \"_handleMotion\",\n  (base) =>\n    function () {\n      base.call(this);\n      this._setProperty(\"deviced_moved\", true);\n    }\n);\n\nwrapMethod(\n  \"_onmousedown\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"mouse_down\", true);\n    }\n);\n\nwrapMethod(\n  \"_ondbclick\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"mouse_double_clicked\", true);\n    }\n);\n\nwrapMethod(\n  \"_onmousemove\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"mouse_dragging\", this.mouseIsPressed);\n      this._setProperty(\"touch_moved\", this.mouseIsPressed);\n    }\n);\n\nwrapMethod(\n  \"_onwheel\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"_mouseWheel\", this._mouseWheelDeltaY);\n    }\n);\n\nwrapMethod(\n  \"_onkeyup\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"key_up\", true);\n      this._setProperty(\"key_held\", false);\n    }\n);\n\nwrapMethod(\n  \"_onkeydown\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"key_down\", true);\n    }\n);\n\nwrapMethod(\n  \"_ontouchbase\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"touch_started\", true);\n    }\n);\n\nwrapMethod(\n  \"_ontouchmove\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"touch_moved\", true);\n    }\n);\n\nwrapMethod(\n  \"_ontouchend\",\n  (base) =>\n    function (e) {\n      base.call(this, e);\n      this._setProperty(\"touch_ended\", true);\n    }\n);\n\np5.prototype.registerMethod(\"pre\", function () {\n  this._setProperty(\n    \"mouse_up\",\n    this.mouseIsPressed == false && this.mouse_held == true\n  );\n  this._setProperty(\"mouse_held\", this.mouseIsPressed);\n  this._setProperty(\"key_held\", this.key_down);\n});\n\np5.prototype.registerMethod(\"post\", function () {\n  this._setProperty(\"device_moved\", false);\n  this._setProperty(\"mouse_down\", false);\n  this._setProperty(\"mouse_dragging\", false);\n  this._setProperty(\"mouse_double_clicked\", false);\n  this._setProperty(\"_mouseWheel\", false);\n  this._setProperty(\"key_up\", false);\n  this._setProperty(\"key_down\", false);\n  this._setProperty(\"touch_started\", false);\n  this._setProperty(\"touch_moved\", false);\n  this._setProperty(\"touch_ended\", false);\n});\n\n//  Create properties with default value\np5.prototype._moveThreshold = 0.5;\np5.prototype._shakeThreshold = 30;\n\ndefineProperties({\n  //  TODO - test on mobile device\n  device_acceleration: {\n    get: function () {\n      return this.createVector(\n        this.accelerationX,\n        this.accelerationY,\n        this.accelerationZ\n      );\n    },\n  },\n  //  TODO - test on mobile device\n  device_prev_acceleration: {\n    get: function () {\n      return this.createVector(\n        this.pAccelerationX,\n        this.pAccelerationY,\n        this.pAccelerationZ\n      );\n    },\n  },\n  //  TODO - test on mobile device\n  device_rotation: {\n    get: function () {\n      return this.createVector(this.rotationX, this.rotationY, this.rotationZ);\n    },\n  },\n  //  TODO - test on mobile device\n  device_prev_rotation: {\n    get: function () {\n      return this.createVector(\n        this.pRotationX,\n        this.pRotationY,\n        this.pRotationZ\n      );\n    },\n  },\n  //  TODO - test on mobile device\n  device_turned: {\n    get: function () {\n      if (\n        this.rotationX === null &&\n        this.rotationY === null &&\n        this.rotationZ === null\n      )\n        return false;\n      return (\n        this.rotationX !== this.pRotationX ||\n        this.rotationY !== this.pRotationY ||\n        this.rotationZ !== this.pRotationZ\n      );\n    },\n  },\n  first_frame: {\n    get: function () {\n      return this.frameCount === 1;\n    },\n  },\n  key_code: {\n    get: function () {\n      return this.keyCode;\n    },\n  },\n  mouse_button: {\n    get: function () {\n      return this.mouseButton;\n    },\n  },\n  mouse_pos: {\n    get: function () {\n      return this.createVector(this.mouseX, this.mouseY);\n    },\n  },\n  mouse_pos_x: {\n    get: function () {\n      return this.mouseX;\n    },\n  },\n  mouse_pos_y: {\n    get: function () {\n      return this.mouseY;\n    },\n  },\n  mouse_prev_pos: {\n    get: function () {\n      return this.createVector(this.pmouseX, this.pmouseY);\n    },\n  },\n  mouse_prev_pos_x: {\n    get: function () {\n      return this.pmouseX;\n    },\n  },\n  mouse_prev_pos_y: {\n    get: function () {\n      return this.pmouseY;\n    },\n  },\n  mouse_trans_pos: {\n    get: function () {\n      return this.transform_point(this.mouse_pos_x, this.mouse_pos_y);\n    },\n  },\n  mouse_trans_pos_x: {\n    get: function () {\n      return this.mouse_trans_pos.x;\n    },\n  },\n  mouse_trans_pos_y: {\n    get: function () {\n      return this.mouse_trans_pos.y;\n    },\n  },\n  mouse_wheel: {\n    get: function () {\n      return this._mouseWheel;\n    },\n  },\n  mouse_window_pos: {\n    get: function () {\n      return this.createVector(this.winMouseX, this.winMouseY);\n    },\n  },\n  mouse_window_pos_x: {\n    get: function () {\n      return this.winMouseX;\n    },\n  },\n  mouse_window_pos_y: {\n    get: function () {\n      return this.winMouseY;\n    },\n  },\n  mouse_prev_window_pos: {\n    get: function () {\n      return this.createVector(this.pwinMouseX, this.pwinMouseY);\n    },\n  },\n  mouse_window_prev_pos_x: {\n    get: function () {\n      return this.pwinMouseX;\n    },\n  },\n  mouse_window_prev_pos_y: {\n    get: function () {\n      return this.pwinMouseY;\n    },\n  },\n  move_threshold: {\n    get: function () {\n      return this._moveThreshold;\n    },\n    set: function (val) {\n      this.setMoveThreshold(val);\n    },\n  },\n  moved: {\n    get: function () {\n      return this.createVector(this.movedX, this.movedY);\n    },\n  },\n  moved_x: {\n    get: function () {\n      return this.movedX;\n    },\n  },\n  moved_y: {\n    get: function () {\n      return this.movedY;\n    },\n  },\n  pointer_lock_request: {\n    get: function () {\n      return document.pointerLockElement === this._curElement.elt;\n    },\n    set: function (val) {\n      if (val) this.requestPointerLock();\n      else this.exitPointerLock();\n    },\n  },\n  shake_threshold: {\n    get: function () {\n      return this._shakeThreshold;\n    },\n    set: function (val) {\n      this.setShakeThreshold(val);\n    },\n  },\n});\n","import {\n  defineProperties,\n  defineRendererGetterSetters,\n} from \"../utils/p5Modifiers\";\nimport { P5Function } from \"./core\";\n\n/**\n * Draw an image to the canvas.\n *\n * This element can be used with different numbers of attributes. The\n * simplest use requires only three attributes: img, x, and y—where (x, y) is\n * the position of the image. Two more attributes can optionally be added to\n * specify the width and height of the image.\n *\n * This element can also be used with eight Number attributes. To\n * differentiate between all these attributes, p5.js uses the language of\n * \"destination rectangle\" (which corresponds to \"dx\", \"dy\", etc.) and \"source\n * image\" (which corresponds to \"sx\", \"sy\", etc.) below. Specifying the\n * \"source image\" dimensions can be useful when you want to display a\n * subsection of the source image instead of the whole thing.\n *\n * This element can also be used to draw images without distorting the original aspect ratio,\n * by adding 9th attribute, fit, which can either be COVER or CONTAIN.\n * CONTAIN, as the name suggests, contains the whole image within the specified destination box\n * without distorting the image ratio.\n * COVER covers the entire destination box.\n *\n *\n *\n * @element image\n * @attribute  {p5.Image|p5.Element|p5.Texture} img    the image to display\n * @attribute  {Number}   x     the x-coordinate of the top-left corner of the image\n * @attribute  {Number}   y     the y-coordinate of the top-left corner of the image\n * @attribute  {Number}   w  the width to draw the image\n * @attribute  {Number}   h the height to draw the image\n * @attribute  {p5.Image|p5.Element|p5.Texture} img\n * @attribute  {Number}   dx     the x-coordinate of the destination\n *                           rectangle in which to draw the source image\n * @attribute  {Number}   dy     the y-coordinate of the destination\n *                           rectangle in which to draw the source image\n * @attribute  {Number}   dWidth  the width of the destination rectangle\n * @attribute  {Number}   dHeight the height of the destination rectangle\n * @attribute  {Number}   sx     the x-coordinate of the subsection of the source\n * image to draw into the destination rectangle\n * @attribute  {Number}   sy     the y-coordinate of the subsection of the source\n * image to draw into the destination rectangle\n * @attribute {Number}    [sWidth] the width of the subsection of the\n *                           source image to draw into the destination\n *                           rectangle\n * @attribute {Number}    [sHeight] the height of the subsection of the\n *                            source image to draw into the destination rectangle\n * @attribute {Constant} [fit] either CONTAIN or COVER\n * @attribute {Constant} [xAlign] either LEFT, RIGHT or CENTER default is CENTER\n * @attribute {Constant} [yAlign] either TOP, BOTTOM or CENTER default is CENTER\n */\nclass Image extends P5Function {\n  constructor() {\n    super([\n      \"img, x, y, [w], [h]\",\n      \"img, dx, dy, dWidth, dHeight, sx, sy, [sWidth], [sHeight]\",\n    ]);\n  }\n}\ncustomElements.define(\"p-image\", Image);\n\ndefineRendererGetterSetters(\"imageMode\");\n\ndefineProperties({\n  canvas_pixels: {\n    get: function () {\n      this.loadPixels();\n      return this.pixels;\n    },\n    set: function (px) {\n      this.pixels = px;\n      this.updatePixels();\n    },\n  },\n  image_tint: {\n    get: function () {\n      return this._renderer?._tint;\n    },\n    set: function (val) {\n      if (val === p5.prototype.NONE) this.noTint();\n      else this.tint(...arguments);\n    },\n  },\n});\n","import { defineProperties, defineSnakeAlias } from \"../utils/p5Modifiers\";\n\ndefineSnakeAlias(\"createWriter\");\n\ndefineProperties({\n  http_post: {\n    set: function () {\n      this.httpPost(...arguments);\n    },\n  },\n  http_do: {\n    set: function () {\n      this.httpDo(...arguments);\n    },\n  },\n  save_file: {\n    set: function () {\n      this.save(...arguments);\n    },\n  },\n  save_json_file: {\n    set: function () {\n      this.saveJSON(...arguments);\n    },\n  },\n  save_strings_file: {\n    set: function () {\n      this.saveStrings(...arguments);\n    },\n  },\n  save_table_file: {\n    set: function () {\n      this.saveTable(...arguments);\n    },\n  },\n});\n","import {\n  defineRendererGetterSetters,\n  defineSnakeAlias,\n} from \"../utils/p5Modifiers\";\nimport { P5Function } from \"./core\";\n\ndefineRendererGetterSetters(\n  \"textAlign\",\n  \"textLeading\",\n  \"textSize\",\n  \"textStyle\",\n  \"textWrap\",\n  \"textFont\"\n);\n\ndefineSnakeAlias(\"textAscent\", \"textDescent\");\n\nclass Text extends P5Function {\n  constructor() {\n    super([\"content, x, y, [x2], [y2]\"]);\n  }\n}\ncustomElements.define(\"p-text\", Text);\n","import { defineProperties, defineSnakeAlias } from \"../utils/p5Modifiers\";\nimport { P5Function } from \"./core\";\nimport { ColorFunction } from \"./color\";\n\np5.prototype._orbitControl = { on: false, sensitivity: [] };\np5.prototype._debugMode = [];\np5.prototype.registerMethod(\"pre\", function () {\n  if (this._orbitControl.on)\n    this.orbitControl(...this._orbitControl.sensitivity);\n});\np5.prototype.DEFAULT = \"default\";\np5.prototype.AMBIENT = \"ambient\";\np5.prototype.SPECULAR = \"specular\";\np5.prototype.EMISSIVE = \"emissive\";\n\ndefineProperties({\n  orbit_control: {\n    get: function () {\n      return this._orbitControl;\n    },\n    set: function (val) {\n      if (val === false) return (this._orbitControl = false);\n      this._orbitControl.on = true;\n      if (val === true) return;\n      if (Array.isArray(val)) this._orbitControl.sensitivity = val;\n      this._orbitControl.sensitivity = [val];\n    },\n  },\n  debug_mode: {\n    get: function () {\n      return this._debugMode;\n    },\n    set: function (val) {\n      if (val === this.NONE) this.noDebugMode();\n      else {\n        this._debugMode = val;\n        if (val === true) this.debugMode();\n        else this.debugMode(val);\n      }\n    },\n  },\n  specular_color: {\n    get: function () {\n      return this._renderer.specularColors;\n    },\n    set: function (val) {\n      if (Array.isArray(val)) this.specularColor(...val);\n      else this.specularColor(val);\n    },\n  },\n  light_falloff: {\n    get: function () {\n      return [\n        this._renderer.constantAttenuation,\n        this._renderer.linearAttenuation,\n        this._renderer.quadraticAttenuation,\n      ];\n    },\n  },\n  remove_lights: {\n    set: function () {\n      this.noLights();\n    },\n  },\n  shader: {\n    get: function () {\n      return [this._renderer.userStrokeShader, this._renderer.userFillShader];\n    },\n    set: function (val) {\n      if (val === this.DEFAULT) this.resetShader();\n      else this.shader(val);\n    },\n  },\n  texture: {\n    get: function () {\n      return this._renderer._tex;\n    },\n    set: function (val) {\n      this.texture(val);\n    },\n  },\n  texture_mode: {\n    get: function () {\n      return this._renderer.textureMode;\n    },\n    set: function (val) {\n      this.textureMode(val);\n    },\n  },\n  texture_wrap: {\n    get: function () {\n      return [this._renderer.textureWrapX, this._renderer.textureWrapY];\n    },\n    set: function (val) {\n      if (Array.isArray(val)) this.textureWrap(...val);\n      else this.textureWrap(val);\n    },\n  },\n  material: {\n    get: function () {\n      if (this._renderer._useNormalMaterial) return this.NORMAL;\n      if (this._renderer._useAmbientMaterial) return this.AMBIENT;\n      if (this._renderer._useEmissiveMaterial) return this.EMISSIVE;\n      if (this._renderer._useSpecularMaterial) return this.SPECULAR;\n    },\n    set: function (val) {\n      switch (val) {\n        case this.NORMAL:\n          this.normalMaterial();\n          break;\n        case this.AMBIENT:\n          this.ambientMaterial();\n          break;\n        case this.EMISSIVE:\n          this.emissiveMaterial();\n          break;\n        case this.SPECULAR:\n          this.specularMaterial();\n          break;\n      }\n    },\n  },\n\n  shininess: {\n    get: function () {\n      return this._renderer._useShininess;\n    },\n    set: function (val) {\n      this.shininess(val);\n    },\n  },\n  camera: {\n    get: function () {\n      return this._renderer._curCamera;\n    },\n    set: function (val) {\n      this.setCamera(val);\n    },\n  },\n});\n\ndefineSnakeAlias(\"createShader\", \"createCamera\");\n\n/**\n * Creates an ambient light with the given color.\n *\n * Ambient light does not come from a specific direction.\n * Objects are evenly lit from all sides. Ambient lights are\n * almost always used in combination with other types of lights.\n * @element ambient-light\n * @attribute {Number}   v1     red or hue value relative to the current color\n *                                range\n * @attribute {Number}   v2     green or saturation value relative to the\n *                                current color range\n * @attribute {Number}   v3     blue or brightness value relative to the current\n *                                color range\n * @attribute {Number}   alpha  alpha value relative to current color range\n *                                (default is 0-255)\n * @attribute {Number}   gray   number specifying value between\n *                                white and black\n * @attribute {String}   value  a color string\n * @attribute {Number[]} values an array containing the red,green,blue &\n *                                 and alpha components of the color\n * @attribute {p5.Color} color  color as a <a\n *                                 href=\"https://p5js.org/reference/#/p5.Color\"\n *                                 target=\"_blank\">p5.Color</a>\n */\nclass AmbientLight extends ColorFunction {\n  constructor() {\n    super([]);\n  }\n}\ncustomElements.define(\"p-ambient-light\", AmbientLight);\n\n/**\n * Creates a directional light with the given color and direction.\n *\n * Directional light comes from one direction.\n * The direction is specified as numbers inclusively between -1 and 1.\n * For example, setting the direction as (0, -1, 0) will cause the\n * geometry to be lit from below (since the light will be facing\n * directly upwards). Similarly, setting the direction as (1, 0, 0)\n * will cause the geometry to be lit from the left (since the light\n * will be facing directly rightwards).\n *\n * Directional lights do not have a specific point of origin, and\n * therefore cannot be positioned closer or farther away from a geometry.\n *\n * A maximum of **5** directional lights can be active at once.\n * @element    directional-light\n * @attribute  {Number}   v1     red or hue value relative to the current color\n *                                range\n * @attribute  {Number}   v2     green or saturation value relative to the\n *                                current color range\n * @attribute  {Number}   v3     blue or brightness value relative to the\n *                                current color range\n * @attribute  {Number}   x      x component of direction (inclusive range of\n *                                -1 to 1)\n * @attribute  {Number}   y      y component of direction (inclusive range of\n *                                -1 to 1)\n * @attribute  {Number}   z      z component of direction (inclusive range of\n *                                -1 to 1)\n * @attribute  {p5.Vector} direction  direction of light as a <a\n *                             href=\"https://p5js.org/reference/#/p5.Vector\"\n *                             >p5.Vector</a>\n * @attribute {p5.Color} color  color as a <a\n *                                 href=\"https://p5js.org/reference/#/p5.Color\"\n *                                 target=\"_blank\">p5.Color</a>\n */\nclass DirectionalLight extends P5Function {\n  constructor() {\n    super([\n      \"v1, v2, v3, x, y, z\",\n      \"v1, v2, v3, direction\",\n      \"color, x, y, z\",\n      \"color, direction\",\n    ]);\n  }\n}\ncustomElements.define(\"p-directional-light\", DirectionalLight);\n\n/**\n * Creates a point light with the given color and position.\n *\n * A point light emits light from a single point in all directions.\n * Because the light is emitted from a specific point (position),\n * it has a different effect when it is positioned farther vs. nearer\n * an object.\n *\n * A maximum of **5** point lights can be active at once.\n *\n * @attribute  {Number}   v1   red or hue value relative to the current color\n *                                range\n * @attribute  {Number}   v2   green or saturation value relative to the\n *                                current color range\n * @attribute  {Number}   v3   blue or brightness value relative to the\n *                                current color range\n * @attribute  {Number}    x   x component of position\n * @attribute  {Number}    y   y component of position\n * @attribute  {Number}    z   z component of position\n * @attribute  {p5.Vector}  position position of light as a <a\n *                            href=\"https://p5js.org/reference/#/p5.Vector\"\n *                            >p5.Vector</a>\n * @attribute  {p5.Color|Number[]|String} color  color as a <a\n *                href=\"https://p5js.org/reference/#/p5.Color\">p5.Color</a>,\n *                as an array, or as a CSS string\n */\nclass PointLight extends P5Function {\n  constructor() {\n    super([\n      \"v1, v2, v3, x, y, z\",\n      \"v1, v2, v3, position\",\n      \"color, x, y, z\",\n      \"color, position\",\n    ]);\n  }\n}\ncustomElements.define(\"p-point-light\", PointLight);\n\n/**\n * Places an ambient and directional light in the scene.\n * The lights are set to <ambient-light v1=\"128\" v2=\"128\" v3=\"128\"> and\n * <directional-light v1=\"128\" v2=\"128\" v3'=\"128\" x=\"0\" y=\"0\" z=\"-1\">.\n * @element lights\n */\nclass Lights extends P5Function {\n  constructor() {\n    super([\"\"]);\n  }\n}\ncustomElements.define(\"p-lights\", Lights);\n\n/**\n * Creates a spot light with the given color, position,\n * light direction, angle, and concentration.\n *\n * Like a ```<point-light>```, a ```<spot-light>```\n * emits light from a specific point (position). It has a different effect\n * when it is positioned farther vs. nearer an object.\n *\n * However, unlike a ```<point-light>```, the light is emitted in **one\n * direction**\n * along a conical shape. The shape of the cone can be controlled using\n * the `angle` and `concentration` parameters.\n *\n * The `angle` parameter is used to\n * determine the radius of the cone. And the `concentration`\n * parameter is used to focus the light towards the center of\n * the cone. Both parameters are optional, however if you want\n * to specify `concentration`, you must also specify `angle`.\n * The minimum concentration value is 1.\n *\n * A maximum of **5** spot lights can be active at once.\n *\n * @element spot-light\n * @attribute  {Number}    v1             red or hue value relative to the\n *                                            current color range\n * @attribute  {Number}    v2             green or saturation value relative\n *                                            to the current color range\n * @attribute  {Number}    v3             blue or brightness value relative\n *                                            to the current color range\n * @attribute  {Number}    x              x component of position\n * @attribute  {Number}    y              y component of position\n * @attribute  {Number}    z              z component of position\n * @attribute  {Number}    rx             x component of light direction\n *                                            (inclusive range of -1 to 1)\n * @attribute  {Number}    ry             y component of light direction\n *                                            (inclusive range of -1 to 1)\n * @attribute  {Number}    rz             z component of light direction\n *                                            (inclusive range of -1 to 1)\n * @attribute  {Number}    angle          angle of cone. Defaults to PI/3\n * @attribute  {Number}    concentration  concentration of cone. Defaults to\n *                                            100\n */\nclass SpotLight extends P5Function {\n  constructor() {\n    super([\n      \"v1, v2, v3, x, y, z, rx, ry, rz, [angle], [concentration]\",\n      \"color, position, direction, [angle], [concentration]\",\n      \"v1, v2, v3, position, direction, [angle], [concentration]\",\n      \"color, x, y, z, direction, [angle], [concentration]\",\n      \"color, position, rx, ry, rz, [angle], [concentration]\",\n      \"v1, v2, v3, x, y, z, direction, [angle], [concentration]\",\n      \"v1, v2, v3, position, rx, ry, rz, [angle], [concentration]\",\n      \"color, x, y, z, rx, ry, rz, [angle], [concentration]\",\n    ]);\n  }\n}\ncustomElements.define(\"p-spot-light\", SpotLight);\n","\"use strict\";\nimport \"./modules/core\";\nimport \"./modules/environment\";\nimport \"./modules/color\";\nimport \"./modules/collide\";\nimport \"./modules/shape\";\nimport \"./modules/structure\";\nimport \"./modules/dom\";\nimport \"./modules/data\";\nimport \"./modules/math\";\nimport \"./modules/rendering\";\nimport \"./modules/transform\";\nimport \"./modules/events\";\nimport \"./modules/image\";\nimport \"./modules/io\";\nimport \"./modules/typography\";\nimport \"./modules/3d\";\n\nconst customElementsDefined = new Event(\"customElementsDefined\");\ndispatchEvent(customElementsDefined);\n"],"names":["$89448357db377a89$var$upperCaseChar","$89448357db377a89$var$upperCaseCharAfterFirst","$89448357db377a89$var$prependMatch","char","$89448357db377a89$export$e12f55f9c91df96a","camelStr","replace","toLowerCase","$89448357db377a89$export$1e3da36a069282b8","pascalStr","slice","$155b2070d5165cbf$var$notExistingObjProp","$155b2070d5165cbf$var$legalVarName","$155b2070d5165cbf$var$notNewObjProp","$155b2070d5165cbf$var$notBoolean","$155b2070d5165cbf$var$notNewKeyword","$155b2070d5165cbf$var$notProceededByOpenString","$155b2070d5165cbf$var$varName","RegExp","$155b2070d5165cbf$export$25a3dda2d7b8a35b","static","str","quoteExps","i","matches","match","length","items","split","isObject","some","item","LESS_THAN","GREATER_THAN","AT_LEAST","NO_MORE_THAN","AND","OR","WHILE","name","p5","prototype","hasOwnProperty","el","prop","keywords","includes","escapes","globalThis","isP5","isPersistent","ownerName","getOwnerName","getPrefix","regex","varName","replacePropName","$44dcb04f21663935$export$b61bda4fbca264f2","obj","p","Object","defineProperties","$44dcb04f21663935$export$e00416b3cd122575","methodName","wrapper","$44dcb04f21663935$export$49218a2feaa1d459","propNames","forEach","propName","$44dcb04f21663935$export$44f806bc073ff27e","methodNames","get","this","_renderer","set","val","Array","isArray","base","options","value","descriptor","getOwnPropertyDescriptor","globalObject","window","writable","call","defineProperty","UNTIL","assignCanvas","c","r","noCanvas","mainDiv","document","querySelector","index","id","children","remove","WEBGL","_setProperty","RendererGL","Renderer2D","_applyDefaults","resizeCanvas","width","height","assets","loadAssets","async","assetElements","from","querySelectorAll","pInst","promises","map","load","Promise","all","result","getAttribute","_decrementPreload","registerPreloadMethod","_debug_attributes","create_canvas_element","elementName","createdElement","createElement","canvas","appendChild","setup","object_assign","target","sources","assign","debug_attributes","valType","console","error","$e82fbb9f8664d0b4$var$attributePriorities","$e82fbb9f8664d0b4$var$P5Extension","baseClass","proxy","Proxy","state","has","owner","persistent","getOwner","updateFunctions","Map","constructor","super","above_sibling","previousElementSibling","this_element","above_siblings_off","parentElement","firstElementChild","on","applyChange","change","updateAttribute","changed","assignProp","changeVal","setAttribute","attributeInherited","attributeName","props","hasAttribute","callAttributeUpdater","inherited","attrName","thisArg","colliding_with","collide_elements","comments","html","line","flat","draw","push","updateState","repeat","render","child","key","conditions","every","pop","updaters","entries","updater","endRender","replaceAll","outerHTML","innerHTML","HTMLCanvasElement","orderedAttributeNames","ordered","attributes","sort","a","b","indexOf","transformDoneIndex","findLastIndex","parent_element","setDefaults","setupEvalFns","setupRenderFunction","setupEvalFn","attr","attrJsStr","allQuotesMatched","replacePropNames","attrValueVarsReplaced","varValue","enclose","fnHeader","fnBody","fnStr","join","evalFn1","Function","removeAttribute","transform_matrix","inherited1","attrName1","thisArg1","v","Color","toString","color_mode","valToString","updateFunction","$e82fbb9f8664d0b4$export$82fefa1d40d42487","HTMLElement","$e82fbb9f8664d0b4$export$d546242e33fb8131","overloads","renderFunctionName","tagName","s","toUpperCase","getArgumentsFromOverloads","isOptional","param","overloadMatch","overloadsSplitSorted","o","trim","overloadParams","filterParams","filteredParams","optional","concat","args","_defineCustomElement","pCustomEl","customElements","define","childClones","cloneNode","prepend","renderToCanvas","$e82fbb9f8664d0b4$var$Canvas","addEventListener","runCode","bind","filter","defaults","x","x1","x2","x3","x4","cx","y","y1","y2","y3","y4","cy","z","w","h","d","start_angle","stop_angle","PI","vector","createVector","v1","v2","v3","rx","ry","rz","img","createImage","content","preload","renderer","initialState","getOwnPropertyNames","extends","$e82fbb9f8664d0b4$var$Asset","image","font","json","strings","table","xml","bytes","shader","data","loadFn","loadFns","path","$e82fbb9f8664d0b4$var$Sketch","HTMLLinkElement","loadXML","href","convertElement","xmlEl","xmlTag","createElementArguments","xmlTagToCreateElementArguments","pEl","copyAttributes","convertAllElements","xmlEl1","parent","body","pEl1","i1","convertXML","e","response","documentElement","orig","copy","attrs","i2","request","XMLHttpRequest","open","responseType","overrideMimeType","send","xmlTag1","is","window_resized","registerMethod","_fullscreen","fullscreen","_width","_height","_createDescriptionContainer","cnvId","descriptionContainer","append","type","text","describeId","dummyDOM","display","getElementById","parentNode","text_output","grid_output","_updateAccsOutput","cursor_type","style","cursor","NONE","noCursor","delta_time","deltaTime","display_width","displayWidth","display_height","displayHeight","frame_count","frameCount","frame_rate","_frameRate","frameRate","window_width","windowWidth","window_height","windowHeight","_accessibleOutputs","grid","gridOutput","pixel_density","pixelDensity","description","sketch_description","describeElement","display_density","displayDensity","url","getURL","url_path","getURLPath","url_params","getURLParams","log","print","descContainer","describe","textOutput","$39790b52812227d4$export$f08b370029806897","$39790b52812227d4$var$transparent","color","_colorMode","_colorMaxes","rgb","setErase","erase","_background","canvas_background","Image","colorMode","fill_color","drawingContext","fillStyle","noFill","fill","stroke_color","strokeStyle","noStroke","stroke","_isErasing","background","_collide_debug","collide_debug","debugMode","_collideDebug","collider_type","point","circle","ellipse","rect","arc","triangle","poly","elementA","elementB","collider","colliderA","colliderB","argsA","collision_args","argsB","fnNameForward","fnNameBackward","warn","collide_rect_rect","w2","h2","collide_rect_rect_vector","p1","sz","p2","sz2","collide_rect_circle","rw","rh","diameter","testX","testY","dist","collide_rect_circle_vector","collide_circle_circle","d2","collide_circle_circle_vector","collide_point_circle","collide_point_circle_vector","collide_point_ellipse","dx","dy","xx","yy","eyy","sqrt","abs","collide_point_ellipse_vector","collide_point_rect","pointX","pointY","xW","yW","collide_point_rect_vector","collide_point_line","px","py","buffer","d1","lineLen","undefined","collide_point_line_vector","collide_line_circle","inside1","inside2","distX","distY","len","dot","pow","closestX","closestY","collide_line_circle_vector","collide_line_line","calcIntersection","uA","uB","intersectionX","intersectionY","collide_line_line_vector","p3","p4","collide_line_rect","left","right","top","bottom","intersection","collide_line_rect_vector","rsz","collide_point_poly","vertices","collision","next","current","vc","vn","collide_point_poly_vector","collide_circle_poly","interior","collide_circle_poly_vector","collide_rect_poly","collide_rect_poly_vector","collide_line_poly","collide_line_poly_vector","vertice","collide_poly_poly","collide_poly_poly_vector","collide_point_triangle","areaOrig","collide_point_triangle_vector","collide_point_point","collide_point_point_vector","collide_point_arc","ax","ay","arcRadius","arcHeading","arcAngle","arcPos","radius","rotate","pointToArc","sub","angle","angleBetween","collide_point_arc_vector","$7cf852e04aff7b0a$var$transformVertexFn","originalPoint","DOMPoint","_transform_point_matrix","mouse_over","mouse_trans_pos_x","mouse_trans_pos_y","assert","arcRotation","originalStart","originalEnd","stroke_weight","endContour","assigned","endShape","mode","arrayFromChildren","ca","$7cf852e04aff7b0a$var$Vertex","$7cf852e04aff7b0a$var$QuadraticVertex","$7cf852e04aff7b0a$var$pointTangentOverload","fn","arguments","bezierPoint","bezierTangent","curvePoint","curveTangent","yesSmooth","smooth","isP3D","_pInst","_glAttributes","antialias","imageSmoothingEnabled","noSmooth","stroke_cap","strokeCap","lineCap","stroke_join","strokeJoin","lineJoin","curStrokeWeight","lineWidth","strokeWeight","bezier_detail","_bezierDetail","bezierDetail","curve_detail","_curveDetail","curveDetail","animate","isLooping","loop","noLoop","remove_canvas","storage","clearStorage","removeItem","getItem","storeItem","angle_mode","_angleMode","noise_detail","noiseDetail","noise_seed","noiseSeed","random_seed","_lcg_random_state","randomSeed","blend_mode","curBlendMode","globalCompositeOperation","blendMode","drawing_context","set_webgl_attr","setAttributes","$0f480329c79e55b1$var$defaultAnchor","$0f480329c79e55b1$var$defaultAngle","$0f480329c79e55b1$var$defaultShear","$0f480329c79e55b1$var$defaultScale","Renderer","wrappedRenderer","apply","_anchorStack","_angleStack","_scaleStack","_shearStack","create","$0f480329c79e55b1$var$wrap","RESET","anchor","translate","angle_x","rotateX","angle_y","rotateY","angle_z","rotateZ","angle_vector","scale_factor","scale","shear","shearX","shearY","uMVMatrix","getTransform","resetMatrix","applyMatrix","$0f480329c79e55b1$var$identityMatrix","DOMMatrix","transMatrix","pixelDensityMatrix","multiply","transformPoint","untransform_point","transform_point","inverse","device_moved","device_turned","mouse_down","mouse_up","mouse_dragging","mouse_double_clicked","_mouseWheel","key_down","key_up","touch_started","touch_moved","touch_ended","_startAngleZ","mouseIsPressed","_mouseWheelDeltaY","mouse_held","_moveThreshold","_shakeThreshold","device_acceleration","accelerationX","accelerationY","accelerationZ","device_prev_acceleration","pAccelerationX","pAccelerationY","pAccelerationZ","device_rotation","rotationX","rotationY","rotationZ","device_prev_rotation","pRotationX","pRotationY","pRotationZ","first_frame","key_code","keyCode","mouse_button","mouseButton","mouse_pos","mouseX","mouseY","mouse_pos_x","mouse_pos_y","mouse_prev_pos","pmouseX","pmouseY","mouse_prev_pos_x","mouse_prev_pos_y","mouse_trans_pos","mouse_wheel","mouse_window_pos","winMouseX","winMouseY","mouse_window_pos_x","mouse_window_pos_y","mouse_prev_window_pos","pwinMouseX","pwinMouseY","mouse_window_prev_pos_x","mouse_window_prev_pos_y","move_threshold","setMoveThreshold","moved","movedX","movedY","moved_x","moved_y","pointer_lock_request","pointerLockElement","_curElement","elt","requestPointerLock","exitPointerLock","shake_threshold","setShakeThreshold","canvas_pixels","loadPixels","pixels","updatePixels","image_tint","_tint","noTint","tint","http_post","httpPost","http_do","httpDo","save_file","save","save_json_file","saveJSON","save_strings_file","saveStrings","save_table_file","saveTable","_orbitControl","sensitivity","_debugMode","orbitControl","DEFAULT","AMBIENT","SPECULAR","EMISSIVE","orbit_control","debug_mode","noDebugMode","specular_color","specularColors","specularColor","light_falloff","constantAttenuation","linearAttenuation","quadraticAttenuation","remove_lights","noLights","userStrokeShader","userFillShader","resetShader","texture","_tex","texture_mode","textureMode","texture_wrap","textureWrapX","textureWrapY","textureWrap","material","_useNormalMaterial","NORMAL","_useAmbientMaterial","_useEmissiveMaterial","_useSpecularMaterial","normalMaterial","ambientMaterial","emissiveMaterial","specularMaterial","shininess","_useShininess","camera","_curCamera","setCamera","$35da740d59af89ba$var$customElementsDefined","Event","dispatchEvent"],"version":3,"file":"p5.marker.min.js.map"}