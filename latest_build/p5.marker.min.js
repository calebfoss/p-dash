// p5-marker v0.0.0 Thu Jan 12 2023 https://github.com/calebfoss/p5-marker.git
const t=/([A-Z])/g,e=/(?<!^)[A-Z]/g,r=t=>t+"$&",s=t=>t.replace(e,r("_")).toLowerCase(),n=t=>t.slice(0,1).toLowerCase()+t.slice(1),i="(?<![^\\.]\\.)",o="\\b[a-z$_][a-z0-9$_]*\\b",c="(?:(?!\\s*:)|(?<=\\?[^,]*))",a="(?<!\\btrue\\b)(?<!\\bfalse\\b)",l="(?<!\\bnew\\b)",p="(?=(?:[^\"'`](?:([\"'`]).*\\1)*)*$)",h=new RegExp(i+o+c+a+l+p,"gi");class u{static regex={legalVarName:o,notExistingObjProp:i,notNewObjProp:c,notBoolean:a,notNewKeyword:l,notProceededByOpenString:p,varName:h};static allQuotesMatched(t){const e=[/"/g,/'/g,/`/g];for(const r in e){const s=t.match(e[r]);if(s&&s.length%2!=0)return!1}return!0}static enclose=t=>{const e=t.replace(/(["'`]).*?\1/gi,"").split(/(?<!{[^}]*),/gi),r=e.some((t=>t.match(/^[^\?\{]*:/gi)));if(1===e.length&&!r)return t;return null!==t.match(/(?<!\([^\)]*)(?<!{[^}]*)[,:]/gi)?r?`{${t}}`:`[${t}]`:t};static escapes={LESS_THAN:"<",GREATER_THAN:">",AT_LEAST:">=",NO_MORE_THAN:"<=",AND:"&&",OR:"||",WHILE:""};static isP5=t=>p5.prototype.hasOwnProperty(t);static keywords=["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield"];static getOwnerName(t,e){return u.keywords.includes(e)||e in u.escapes||e in globalThis?"none":u.isP5(e)?"pInst":t.isPersistent(e)?"this.persistent":e in t?"this":"inherited"}static getPrefix(t,e){const r=u.getOwnerName(t,e);return"none"===r?"":"this"===r.slice(0,4)?`${r}.`:`_${r}.`}static replacePropName(t,e){return e in u.escapes?u.escapes[e]:u.getPrefix(t,e)+e}static replacePropNames(t,e){return e.replace(/UNTIL(.*)/,"!($1)").replace(u.regex.varName,(e=>u.replacePropName(t,e)))}}function _(t){for(const e in t)p5.prototype[e]={};Object.defineProperties(p5.prototype,t)}const d=(t,e)=>p5.prototype[t]=e(p5.prototype[t]),y=(...t)=>t.forEach((t=>p5.prototype[s(t)]=p5.prototype[t])),m=(...t)=>t.forEach((t=>_({[s(t)]:{get:function(){return this._renderer?.[`_${t}`]},set:function(e){Array.isArray(e)?this[t](...e):this[t](e)}}})));d("_createFriendlyGlobalFunctionBinder",(t=>function(e={}){return(r,s)=>{const n=Object.getOwnPropertyDescriptor(p5.prototype,r),i=e.globalObject||window;return void 0===n||n.writable?t.call(this,e)(r,s):Object.defineProperty(i,r,n)}})),p5.prototype.WHILE="while",p5.prototype.UNTIL="until",p5.prototype.assignCanvas=function(t,e){this.noCanvas();const r=document.querySelector("main");let s=0;if(void 0===t.id)for(;document.querySelector(`p5MarkerCanvas${s}`);)s++;t.id=`p5MarkerCanvas${s}`,0===r.children.length&&r.remove(),e===this.WEBGL?this._setProperty("_renderer",new p5.RendererGL(t,this,!0)):this._setProperty("_renderer",new p5.Renderer2D(t,this,!0)),this._renderer._applyDefaults(),this._setProperty("_elements",[this._renderer]),this.resizeCanvas(t.width,t.height)},p5.prototype.assets={},p5.prototype.loadAssets=async function(){const t=Array.from(document.querySelectorAll("p-asset")),e=this,r=t.map((t=>t.load(e)));(await Promise.all(r)).forEach(((e,r)=>this.assets[t[r].getAttribute("name")]=e)),this._decrementPreload()},p5.prototype.registerPreloadMethod("loadAssets",p5.prototype),p5.prototype._debug_attributes=!0,p5.prototype.create_canvas_element=function(t){const e=document.createElement(t);return this.canvas.appendChild(e),e.setup(this,this.canvas),e},_({object_assign:{set:function([t,...e]){Object.assign(t,...e)}},debug_attributes:{get:function(){return this._debug_attributes},set:function(t){const e=typeof t;"boolean"==typeof t?this._debug_attributes=t:console.error(`debug_attributes was set to a value of type ${e} but may only be set to a boolean true/false value.`)}}});const f=["debug_attributes","anchor","angle","scale_factor","shear","_default","repeat","change"],g=e=>class extends e{#t;#e;#r=new Proxy(this,{get:(t,e)=>e in t?t[e]:t.#s[e],has:(t,e)=>e in t||e in t.#s,set(t,e,r){const s=(e=>t.isPersistent(e)?t.persistent:e in t.pInst?t.pInst:t)(e);s.set(e,r)}});#s={};#n=new Map;constructor(){super()}get above_sibling(){return this.previousElementSibling.this_element}get above_siblings_off(){if(this===this.parentElement.firstElementChild)return!0;const{above_sibling:t}=this;return!t.on&&t.above_siblings_off}#i(){const t=this.#s.change=this.#o(this.#s,"change",this);let e=!1;const r=(r,s)=>{if(s in r){const n=t[s];return e||=r[s]!==n,r[s]=n,this.pInst.debug_attributes&&this.setAttribute(s,n),!0}return!1};for(const e in t)r(this.#s,e)||r(this.persistent,e)||r(this.pInst,e)||console.error(`${this.constructor.elementName}'s change attribute has a prop called ${e} that is unknown`),this.#s[e]=t[e];return e}attributeInherited(t){const[e,...r]=t.split(".");return r.length?this.attributeInherited(e):!!this.parentElement.hasAttribute(t)||!!this.parentElement.attributeInherited&&this.parentElement.attributeInherited(t)}#c(t,e,r){if(this.#n.has(e)){return this.#n.get(e).call(r,this.pInst,t)}return e in t?t[e]:e in this.persistent?this.persistent[e]:e in this.pInst?this.pInst[e]:void 0}get canvas(){return this.#t}colliding_with(t){return this.pInst.collide_elements(this,t)}get#a(){return this.#l.split(/(?:\r\n|\r|\n)/).map((t=>t.match(/.{1,80}/g))).flat().map((t=>"//\t"+t))}draw(t){if(this.hasAttribute("on")&&(this.#s.on=this.#o(t,"on",this.this_element),!this.#s.on))return;this.pInst.push(),this.updateState(t);const{WHILE:e}=p5.prototype;let r=!0;for(;r;){this.render?.();for(const t of this.children)t.draw(this.#s);r=this.#s.repeat;const{change:s}=this.#s;if(Array.isArray(r)){const[t,...s]=this.#o(this.#s,"repeat");r=t===e===s.every((t=>t))}if(r){this.pInst.pop(),this.pInst.push();const e=this.#n.entries();for(const[r,n]of e)r in s==!1&&(this.#s[r]=this.#o(t,r,this));this.#i()||(r=!1)}this.endRender?.(this.#s)}this.pInst.pop()}static get elementName(){return`p-${e=this.name,n(e).replaceAll(t,(t=>"-"+t.toLowerCase()))}`;var e}get#l(){return this.outerHTML.replace(this.innerHTML,"")}isPersistent(t){return this instanceof HTMLCanvasElement?this.hasAttribute(t):this.parentElement?.isPersistent?.(t)}get orderedAttributeNames(){const t=Array.from(this.attributes).sort((({name:t},{name:e})=>(f.indexOf(t)+1||f.indexOf("_default"))-(f.indexOf(e)+1||f.indexOf("_default")))).map((({name:t})=>t));return this.transformDoneIndex=t.findLastIndex((t=>f.includes(t)))+1,t}get persistent(){return this.#t.this_element}get parent_element(){return this.parentElement.this_element}get pInst(){return this.#e}set(t,e){this.#n.set(t,(()=>e)),this.#s[t]=e}setup(t,e){this.#e=t,this.#t=e,this.setDefaults?.(),this.#p?.(),this.setupRenderFunction?.();for(const r of this.children)r.setup(t,e)}#h(t){const e=t.value;!1===u.allQuotesMatched(e)&&console.error(`It looks like a ${this.constructor.elementName}'s ${t.name} attribute has an open string. Check that each string has a beginning and end character.`);const r=u.getOwnerName(this,t.name),s=u.replacePropNames(this,t.name),n=u.replacePropNames(this,e),i=u.enclose(n),o=`return function ${`${this.constructor.name}_${t.name.replace(/[^a-z0-9]/g,"_")}`}(_pInst, _inherited) {`,c="inherited"!==r||t.name.includes(".")?`return ${s} = ${i};\n};`:`return ${i};\n}`,a=[o,...this.#a,c].join("\n"),l=new Function(a)();this.#n.set(t.name,l)}#p(){this.hasAttribute("repeat")&&!this.hasAttribute("change")&&(console.error(`It looks like a ${this.constructor.elementName} has a repeat attribute but does not have a change attribute. The change attribute is required to prevent infinite loops.`),this.removeAttribute("repeat"));const{orderedAttributeNames:t,transformDoneIndex:e}=this;for(let r=0;r<t.length;r++)r===e&&this.#n.set("transform_matrix",(function(){this.transform_matrix=this.pInst.transform_matrix})),this.#h(this.attributes[t[r]])}get this_element(){return this.#r}#o(t,e,r){"repeat"!==e&&"change"!==e||(t=this.#s);const s=this.#c(t,e,r);if(!1===this.pInst.debug_attributes)return s;if(this instanceof HTMLCanvasElement&&("width"!==e||"height"!==e))return s;if(e.match(/[\[\]]/))return s;return this.setAttribute(e,(t=>t instanceof p5.Color?t.toString(this.pInst.color_mode):void 0===t?.toString?t:t.toString())(s)),s}updateState(t){this.#s=Object.assign({},t);const e=this.#n.entries();for(const[r,s]of e)this.#s[r]=this.#o(t,r,this);return this.#s}};class x extends(g(HTMLElement)){}class v extends x{constructor(t,e){super(),this.overloads=t,this.renderFunctionName=e||this.tagName.toLowerCase().slice(2).replace(/-./g,(t=>t[1].toUpperCase()))}#u(){const{overloads:t}=this,e=t=>t.match(/^\[.*\]$/);let r=!1;const s=t.map((t=>t.split(",").map((t=>t.trim())))).sort(((t,e)=>t.length-e.length));if(0===s.length)return[];for(let t=0;t<s.length;t++){const n=s[t];if(r=n.every((r=>this.hasAttribute(r)||this.attributeInherited(r)||e(r)||""===r||t===s.length-1&&this.isPersistent(r))),r){const t=(r,s=[],n=0)=>{if(n===r.length)return s;const i=e(r[n]),o=r[n].replaceAll(/\[|\]/g,"");return this.hasAttribute(o)?t(r,s.concat({owner:this.this_element,param:o}),++n):i?s:this.isPersistent(o)?t(r,s.concat({owner:this.persistent,param:o}),++n):this.attributeInherited(o)?t(r,s.concat({owner:this.this_element,param:o}),++n):s};return t(n)}}console.error(`Element ${this.tagName} does not have the required attributes to render and will be removed from the sketch`),this.remove()}setupRenderFunction(){const t=this.#u();this.render=function(){this.pInst[this.renderFunctionName](...t.map((({param:t,owner:e})=>e[t])))}}}p5.prototype._defineCustomElement=function(t){const e=t.getAttribute("name");customElements.define(`p-${e}`,class extends x{constructor(){super()}setDefaults(){Array.from(t.attributes).forEach((t=>!1===this.hasAttribute(t.name)&&this.setAttribute(t.name,t.value)));const e=Array.from(t.children).map((t=>t.cloneNode(!0)));this.prepend(...e)}renderToCanvas=null})};customElements.define("p-_",class extends x{constructor(){super()}});class b extends(g(HTMLCanvasElement)){constructor(){super(),window.addEventListener("customElementsDefined",this.runCode.bind(this))}get orderedAttributeNames(){return super.orderedAttributeNames.filter((t=>"is"!==t&&"style"!=t))}runCode(){const t=this;new p5((e=>{t.defaults={x:0,x1:0,x2:0,x3:100,x4:100,cx:0,y:0,y1:0,y2:100,y3:100,y4:0,cy:0,z:0,w:100,h:100,d:100,s:100,start_angle:0,stop_angle:e.PI,vector:e.createVector(),v1:255,v2:255,v3:255,rx:1,ry:1,rz:-1,img:e.createImage(100,100),content:"",on:!0,repeat:!1,change:{}},e.preload=()=>e.loadAssets(),e.setup=function(){const r=e[t.getAttribute("renderer")];t.setup(e,t),e.assignCanvas(t,r);const s=t.updateState({});Object.getOwnPropertyNames(s).forEach((e=>delete t.defaults[e]))},e.draw=function(){for(const e of t.children)e.draw?.(t.defaults)}}))}attributeInherited(t){return!(!this.hasAttribute(t)&&!(t in this.defaults))||super.attributeInherited(t)}}customElements.define("p-canvas",b,{extends:"canvas"});customElements.define("p-custom",class extends x{constructor(){super(),this.attributes.length&&p5.prototype._defineCustomElement(this)}});class w extends HTMLElement{static elementName="p-asset";constructor(){super()}static loadFns={image:"loadImage",font:"loadFont",json:"loadJSON",strings:"loadStrings",table:"loadTable",xml:"loadXML",bytes:"loadBytes",get:"httpGet",shader:"loadShader"};async load(t){if(this.data)return this.data;const e=w.loadFns[this.getAttribute("type").toLowerCase()],r=this.getAttribute("path");return this.data=await t[e](r),this.data}}customElements.define("p-asset",w);class E extends HTMLLinkElement{static elementName="p-sketch";constructor(){super(),this.#_(this.href)}#d(t){const e=t.tagName,r=this.#y(e),s=document.createElement(...r);return this.#m(t,s),"custom"===e&&p5.prototype._defineCustomElement(s),s}#f(t,e=document.body){const r=this.#d(t);e.appendChild(r);for(let e=0;e<t.children.length;e++)this.#f(t.children[e],r)}#g(t){const e=t.target.response.documentElement;this.#f(e),document.querySelectorAll("canvas").forEach((t=>t.runCode()))}#m(t,e){const r=t.attributes;for(let t=0;t<r.length;t++){const s=r[t];e.setAttribute(s.name,s.value)}}#_(t){if(!t)return console.error("p-sketch element is missing required path attribute");const e=new XMLHttpRequest;e.open("GET",t),e.responseType="document",e.overrideMimeType("text/xml"),e.addEventListener("load",this.#g.bind(this)),e.send()}#y(t){return"p-"===t.slice(0,2)?[t]:"canvas"===t?[t,{is:"p-canvas"}]:["p-"+t]}}customElements.define("p-sketch",E,{extends:"link"}),p5.prototype.window_resized=!1,d("_onresize",(t=>function(e){t.call(this,e),this._setProperty("window_resized",!0)})),p5.prototype.registerMethod("post",(function(){this._setProperty("window_resized",!1)})),p5.prototype._fullscreen=p5.prototype.fullscreen,p5.prototype._width=p5.prototype.width,p5.prototype._height=p5.prototype.height,p5.prototype._createDescriptionContainer=function(){const t=this.canvas.id,e=document.createElement("div");e.setAttribute("id",`${t}_Description`),e.setAttribute("role","region"),e.setAttribute("aria-label","Canvas Description");const r=document.createElement("p");return r.setAttribute("id",`${t}_fallbackDesc`),e.append(r),this.canvas.append(e),e},d("_describeHTML",(t=>function(e,r){const s=this.canvas.id,n=`#${s}_Description`;if("fallback"!==e||this.dummyDOM.querySelector(n))t.call(this,e,r);else{this._createDescriptionContainer().querySelector(`#${s}_fallbackDesc`).innerHTML=r}})),d("_describeElementHTML",(t=>function(e,r,s){const n=this.canvas.id;"fallback"!==e||this.dummyDOM.querySelector(`#${n}_Description`)||this._createDescriptionContainer(),t.call(this,e,r,s)})),d("_createOutput",(t=>function(e,r){const s=this.canvas.id;this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode),"textOutput"!==e&&"gridOutput"!==e||this.dummyDOM.querySelector(`#${s}accessibleOutput${r}`)||this._createDescriptionContainer(),t.call(this,e,r)})),p5.prototype.registerMethod("post",(function(){(this.text_output||this.grid_output)&&this._updateAccsOutput()})),_({cursor_type:{get:function(){return this.canvas?.style.cursor},set:function(t){t===this.NONE?this.noCursor():Array.isArray(t)?this.cursor(...t):this.cursor(t)}},delta_time:{get:function(){return this.deltaTime}},display_width:{get:function(){return this.displayWidth}},display_height:{get:function(){return this.displayHeight}},frame_count:{get:function(){return this.frameCount}},frame_rate:{get:function(){return this._frameRate},set:function(t){this.frameRate(t)}},fullscreen:{get:function(){return this._fullscreen()},set:function(t){this._fullscreen(t)}},window_width:{get:function(){return this.windowWidth}},window_height:{get:function(){return this.windowHeight}},grid_output:{get:function(){return this._accessibleOutputs.grid},set:function(t){!0===t?this.gridOutput():this.gridOutput(t)}},pixel_density:{get:function(){return this.pixelDensity()},set:function(t){this.pixelDensity(t)}},description:{get:function(){return this.sketch_description},set:function(t){this.describeElement(...t)}},display_density:{get:function(){return this.displayDensity()}},url:{get:function(){return this.getURL()}},url_path:{get:function(){return this.getURLPath()}},url_params:{get:function(){return this.getURLParams()}},width:{get:function(){return this._width},set:function(t){t!==this._width&&(this._setProperty("_width",t),this.resizeCanvas(this._width,this._height))}},height:{get:function(){return this._height},set:function(t){t!==this._height&&(this._setProperty("_height",t),this.resizeCanvas(this._width,this._height))}},log:{set:function(t){this.print(t)}},sketch_description:{get:function(){const t=this.canvas.id,e=this.dummyDOM.querySelector(`#${t}_Description`);if(e)return e;return this.dummyDOM.querySelector(`#${t}_Label`)},set:function(t){Array.isArray(t)?this.describe(...t):this.describe(t)}},text_output:{get:function(){return this._accessibleOutputs.text},set:function(t){!0===t?this.textOutput():this.textOutput(t)}}}),y("lerpColor"),p5.prototype.NONE="none";class k extends v{constructor(t,e){super(t=["v1, v2, v3, [alpha]","value","gray, [alpha]","values","c",...t],e)}}const I=p5.prototype.color.call({_colorMode:"rgb",_colorMaxes:{rgb:[255,255,255,255]}},0,0);p5.prototype.setErase=p5.prototype.erase,p5.prototype._background=I,_({canvas_background:{get:function(){return this._background},set:function(t){t===this.NONE?this._background=I:t instanceof p5.Image?this._background=t:this._background=this.color(t)}},color_mode:{get:function(){return this._colorMode},set:function(t){this.colorMode(t)}},fill_color:{get:function(){return this.drawingContext?this.color(this.drawingContext.fillStyle):""},set:function(t){t===this.NONE?this.noFill():this.fill(t)}},stroke_color:{get:function(){return this.drawingContext?this.color(this.drawingContext.strokeStyle):""},set:function(t){t===this.NONE?this.noStroke():this.stroke(t)}},erase:{get:function(){return this._isErasing},set:function(t){!0===t?this.setErase():Array.isArray(t)?this.setErase(...t):this.setErase(t)}}});customElements.define("p-clear",class extends v{constructor(){super(["","r, g, b, a"])}});customElements.define("p-paint-bucket",class extends k{constructor(){super(["colorstring, [a]","gray, [a]","image, [a]","v1, v2, v3, [a]"],"background")}}),p5.prototype.registerMethod("pre",(function(){this.background(this.canvas_background)})),p5.prototype._collide_debug=!1,p5.prototype.collide_debug=function(t){_collideDebug=t},p5.prototype.collider_type={point:"point",circle:"circle",ellipse:"ellipse",rect:"rect",line:"line",arc:"arc",triangle:"triangle",poly:"poly"},p5.prototype.collide_elements=function(t,e){const{collider:r}=t,{collider:s}=e,n=t.collision_args,i=e.collision_args,o=`collide_${r}_${s}`;if(o in this)return this[o](...n,...i);const c=`collide_${s}_${r}`;return c in this?this[c](...i,...n):(console.warn(`Collision check between ${r} and ${s} has not been implemented`),!1)},p5.prototype.collide_rect_rect=function(t,e,r,s,n,i,o,c){return t+r>=n&&t<=n+o&&e+s>=i&&e<=i+c},p5.prototype.collide_rect_rect_vector=function(t,e,r,s){return p5.prototype.collide_rect_rect(t.x,t.y,e.x,e.y,r.x,r.y,s.x,s.y)},p5.prototype.collide_rect_circle=function(t,e,r,s,n,i,o){var c=n,a=i;return n<t?c=t:n>t+r&&(c=t+r),i<e?a=e:i>e+s&&(a=e+s),this.dist(n,i,c,a)<=o/2},p5.prototype.collide_rect_circle_vector=function(t,e,r,s){return p5.prototype.collide_rect_circle(t.x,t.y,e.x,e.y,r.x,r.y,s)},p5.prototype.collide_circle_circle=function(t,e,r,s,n,i){return this.dist(t,e,s,n)<=r/2+i/2},p5.prototype.collide_circle_circle_vector=function(t,e,r,s){return p5.prototype.collide_circle_circle(t.x,t.y,e,r.x,r.y,s)},p5.prototype.collide_point_circle=function(t,e,r,s,n){return this.dist(t,e,r,s)<=n/2},p5.prototype.collide_point_circle_vector=function(t,e,r){return p5.prototype.collide_point_circle(t.x,t.y,e.x,e.y,r)},p5.prototype.collide_point_ellipse=function(t,e,r,s,n,i){var o=n/2,c=i/2;if(t>r+o||t<r-o||e>s+c||e<s-c)return!1;var a=t-r,l=e-s,p=c*this.sqrt(this.abs(o*o-a*a))/o;return l<=p&&l>=-p},p5.prototype.collide_point_ellipse_vector=function(t,e,r){return p5.prototype.collide_point_ellipse(t.x,t.y,e.x,e.y,r.x,r.y)},p5.prototype.collide_point_rect=function(t,e,r,s,n,i){return t>=r&&t<=r+n&&e>=s&&e<=s+i},p5.prototype.collide_point_rect_vector=function(t,e,r){return p5.prototype.collide_point_rect(t.x,t.y,e.x,e.y,r.x,r.y)},p5.prototype.collide_point_line=function(t,e,r,s,n,i,o){var c=this.dist(t,e,r,s),a=this.dist(t,e,n,i),l=this.dist(r,s,n,i);return void 0===o&&(o=.1),c+a>=l-o&&c+a<=l+o},p5.prototype.collide_point_line_vector=function(t,e,r,s){return p5.prototype.collide_point_line(t.x,t.y,e.x,e.y,r.x,r.y,s)},p5.prototype.collide_line_circle=function(t,e,r,s,n,i,o){var c=this.collide_point_circle(t,e,n,i,o),a=this.collide_point_circle(r,s,n,i,o);if(c||a)return!0;var l=t-r,p=e-s,h=this.sqrt(l*l+p*p),u=((n-t)*(r-t)+(i-e)*(s-e))/this.pow(h,2),_=t+u*(r-t),d=e+u*(s-e);return!!this.collide_point_line(_,d,t,e,r,s)&&(this._collideDebug&&this.ellipse(_,d,10,10),l=_-n,p=d-i,this.sqrt(l*l+p*p)<=o/2)},p5.prototype.collide_line_circle_vector=function(t,e,r,s){return p5.prototype.collide_line_circle(t.x,t.y,e.x,e.y,r.x,r.y,s)},p5.prototype.collide_line_line=function(t,e,r,s,n,i,o,c,a){var l=((o-n)*(e-i)-(c-i)*(t-n))/((c-i)*(r-t)-(o-n)*(s-e)),p=((r-t)*(e-i)-(s-e)*(t-n))/((c-i)*(r-t)-(o-n)*(s-e));if(l>=0&&l<=1&&p>=0&&p<=1){if(this._collideDebug||a)var h=t+l*(r-t),u=e+l*(s-e);return this._collideDebug&&this.ellipse(h,u,10,10),!a||{x:h,y:u}}return!!a&&{x:!1,y:!1}},p5.prototype.collide_line_line_vector=function(t,e,r,s,n){return p5.prototype.collide_line_line(t.x,t.y,e.x,e.y,r.x,r.y,s.x,s.y,n)},p5.prototype.collide_line_rect=function(t,e,r,s,n,i,o,c,a){var l,p,h,u,_;return a?_={left:l=this.collide_line_line(t,e,r,s,n,i,n,i+c,!0),right:p=this.collide_line_line(t,e,r,s,n+o,i,n+o,i+c,!0),top:h=this.collide_line_line(t,e,r,s,n,i,n+o,i,!0),bottom:u=this.collide_line_line(t,e,r,s,n,i+c,n+o,i+c,!0)}:(l=this.collide_line_line(t,e,r,s,n,i,n,i+c),p=this.collide_line_line(t,e,r,s,n+o,i,n+o,i+c),h=this.collide_line_line(t,e,r,s,n,i,n+o,i),u=this.collide_line_line(t,e,r,s,n,i+c,n+o,i+c)),!!(l||p||h||u)&&(!a||_)},p5.prototype.collide_line_rect_vector=function(t,e,r,s,n){return p5.prototype.collide_line_rect(t.x,t.y,e.x,e.y,r.x,r.y,s.x,s.y,n)},p5.prototype.collide_point_poly=function(t,e,r){for(var s=!1,n=0,i=0;i<r.length;i++){(n=i+1)===r.length&&(n=0);var o=r[i],c=r[n];(o.y>=e&&c.y<e||o.y<e&&c.y>=e)&&t<(c.x-o.x)*(e-o.y)/(c.y-o.y)+o.x&&(s=!s)}return s},p5.prototype.collide_point_poly_vector=function(t,e){return p5.prototype.collide_point_poly(t.x,t.y,e)},p5.prototype.collide_circle_poly=function(t,e,r,s,n){void 0===n&&(n=!1);for(var i=0,o=0;o<s.length;o++){(i=o+1)===s.length&&(i=0);var c=s[o],a=s[i];if(this.collide_line_circle(c.x,c.y,a.x,a.y,t,e,r))return!0}if(!0===n&&this.collide_point_poly(t,e,s))return!0;return!1},p5.prototype.collide_circle_poly_vector=function(t,e,r,s){return p5.prototype.collide_circle_poly(t.x,t.y,e,r,s)},p5.prototype.collide_rect_poly=function(t,e,r,s,n,i){null==i&&(i=!1);for(var o=0,c=0;c<n.length;c++){(o=c+1)===n.length&&(o=0);var a=n[c],l=n[o];if(this.collide_line_rect(a.x,a.y,l.x,l.y,t,e,r,s))return!0;if(!0===i)if(this.collide_point_poly(t,e,n))return!0}return!1},p5.prototype.collide_rect_poly_vector=function(t,e,r,s){return p5.prototype.collide_rect_poly(t.x,t.y,e.x,e.y,r,s)},p5.prototype.collide_line_poly=function(t,e,r,s,n){for(var i=0,o=0;o<n.length;o++){(i=o+1)===n.length&&(i=0);var c=n[o].x,a=n[o].y,l=n[i].x,p=n[i].y;if(this.collide_line_line(t,e,r,s,c,a,l,p))return!0}return!1},p5.prototype.collide_line_poly_vector=function(t,e,r){return p5.prototype.collide_line_poly(t.x,t.y,e.x,e.y,r)},p5.prototype.collide_poly_poly=function(t,e,r){void 0===r&&(r=!1);for(var s=0,n=0;n<t.length;n++){(s=n+1)===t.length&&(s=0);var i=t[n],o=t[s],c=this.collide_line_poly(i.x,i.y,o.x,o.y,e);if(c)return!0;if(!0===r){if(c=this.collide_point_poly(e[0].x,e[0].y,t))return!0;if(c=this.collide_point_poly(t[0].x,t[0].y,e))return!0}}return!1},p5.prototype.collide_poly_poly_vector=function(t,e,r){return p5.prototype.collide_poly_poly(t,e,r)},p5.prototype.collide_point_triangle=function(t,e,r,s,n,i,o,c){var a=this.abs((n-r)*(c-s)-(o-r)*(i-s));return this.abs((r-t)*(i-e)-(n-t)*(s-e))+this.abs((n-t)*(c-e)-(o-t)*(i-e))+this.abs((o-t)*(s-e)-(r-t)*(c-e))===a},p5.prototype.collide_point_triangle_vector=function(t,e,r,s){return p5.prototype.collide_point_triangle(t.x,t.y,e.x,e.y,r.x,r.y,s.x,s.y)},p5.prototype.collide_point_point=function(t,e,r,s,n){return void 0===n&&(n=0),this.dist(t,e,r,s)<=n},p5.prototype.collide_point_point_vector=function(t,e,r){return p5.prototype.collide_point_point(t.x,t.y,e.x,e.y,r)},p5.prototype.collide_point_arc=function(t,e,r,s,n,i,o,c){void 0===c&&(c=0);var a=this.createVector(t,e),l=this.createVector(r,s),p=this.createVector(n,0).rotate(i),h=a.copy().sub(l);if(a.dist(l)<=n+c){var u=p.dot(h),_=p.angleBetween(h);if(u>0&&_<=o/2&&_>=-o/2)return!0}return!1},p5.prototype.collide_point_arc_vector=function(t,e,r,s,n,i){return p5.prototype.collide_point_arc(t.x,t.y,e.x,e.y,r,s,n,i)};const A=t=>e=>{const r=new DOMPoint(e.x,e.y),{x:s,y:n}=t.pInst._transform_point_matrix(r,t.transform_matrix);return t.pInst.createVector(s,n)};customElements.define("p-arc",class extends v{constructor(){super(["x, y, w, h, start_angle, stop_angle, [mode], [detail], [a]"])}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst,{x:r,y:s,w:n,h:i,start_angle:o,stop_angle:c}=this.this_element;console.assert(n===i,"mouse_over currently only works for arc's with equal width and height.");const a=n/2,l=c-o,p=o+l/2;return this.pInst.collide_point_arc(t,e,r,s,a,p,l)}});customElements.define("p-ellipse",class extends v{constructor(){super(["x, y, w, [h]","x, y, w, h, [detail]"])}collider=p5.prototype.collider_type.ellipse;get collision_args(){const t=new DOMPoint(this.this_element.x,this.this_element.y),{x:e,y:r}=this.pInst._transform_point_matrix(t,this.transform_matrix),{pixel_density:s}=this.pInst,{w:n}=this.this_element*s,{h:i}=this.this_element.h*s||n;return[e,r,n,i]}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst,{x:r,y:s,w:n,h:i}=this.this_element;return this.pInst.collide_point_ellipse(t,e,r,s,n,i)}});customElements.define("p-circle",class extends v{constructor(){super(["x, y, d"])}collider=p5.prototype.collider_type.circle;get collision_args(){const t=new DOMPoint(this.this_element.x,this.this_element.y),{x:e,y:r}=this.pInst._transform_point_matrix(t,this.transform_matrix);return[e,r,this.this_element.d*this.pInst.pow(this.pInst.pixel_density,2)]}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst,{x:r,y:s,d:n}=this.this_element;return this.pInst.collide_point_circle(t,e,r,s,n)}});customElements.define("p-line",class extends v{constructor(){super(["x1, y1, x2, y2","x1, y1, z1, x2, y2, z2"])}collider=p5.prototype.collider_type.line;get collision_args(){const t=new DOMPoint(this.this_element.x1,this.this_element.y1),{x:e,y:r}=this.pInst._transform_point_matrix(t,this.transform_matrix),s=new DOMPoint(this.this_element.x2,this.this_element.y2),{x:n,y:i}=this.pInst._transform_point_matrix(s,this.transform_matrix);return[e,r,n,i]}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst,{x1:r,y1:s,x2:n,y2:i}=this.this_element;return this.pInst.collide_point_line(t,e,r,s,n,i)}});customElements.define("p-point",class extends v{constructor(){super(["x, y, [z]","coordinate_vector"])}collider=p5.prototype.collider_type.circle;get collision_args(){const t=new DOMPoint(this.this_element.x,this.this_element.y),{x:e,y:r}=this.pInst._transform_point_matrix(t,this.transform_matrix),{stroke_weight:s,pixel_density:n}=this.pInst;return[e,r,s*this.pInst.pow(n,2)]}get mouse_over(){const{x:t,y:e,stroke_weight:r,pixel_density:s,mouse_trans_pos_x:n,mouse_trans_pos_y:i}=this.this_element,o=r*this.pInst.pow(s,2);return this.pInst.collide_point_circle(n,i,t,e,o)}});customElements.define("p-quad",class extends v{constructor(){super(["x1, y1, x2, y2, x3, y3, x4, y4, [detail_x], [detail_y]","x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4, [detail_x], [detail_y]"])}collider=p5.prototype.collider_type.poly;get collision_args(){return[this.vertices.map(A(this))]}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst;return this.pInst.collide_point_poly(t,e,this.vertices)}get vertices(){const{x1:t,y1:e,x2:r,y2:s,x3:n,y3:i,x4:o,y4:c}=this.this_element;return[this.pInst.createVector(t,e),this.pInst.createVector(r,s),this.pInst.createVector(n,i),this.pInst.createVector(o,c)]}});customElements.define("p-rect",class extends v{constructor(){super(["x, y, w, [h], [tl], [tr], [br], [bl]","x, y, w, h, [detail_x], [detail_y]"])}collider=p5.prototype.collider_type.rect;get collision_args(){const t=new DOMPoint(this.this_element.x,this.this_element.y),{x:e,y:r}=this.pInst._transform_point_matrix(t,this.transform_matrix),{pixel_density:s}=this.pInst;return[e,r,this.this_element.w*this.pInst.pow(s,2),this.this_element.h*this.pInst.pow(s,2)]}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst,{x:r,y:s,w:n,h:i}=this.this_element;return this.pInst.collide_point_rect(t,e,r,s,n,i)}});customElements.define("p-square",class extends v{constructor(){super(["x, y, s, [tl], [tr], [br], [bl]"])}collider=p5.prototype.collider_type.rect;get collision_args(){const t=new DOMPoint(this.this_element.x,this.this_element.y),{x:e,y:r}=this.pInst._transform_point_matrix(t,this.transform_matrix),{pixel_density:s}=this.pInst,{s:n}=this.this_element,i=n*this.pInst.pow(s,2);return[e,r,i,i]}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst,{x:r,y:s,s:n}=this.this_element;return this.pInst.collide_point_rect(t,e,r,s,n,n)}});customElements.define("p-triangle",class extends v{constructor(){super(["x1, y1, x2, y2, x3, y3"])}collider=p5.prototype.collider_type.poly;get collision_args(){return[this.vertices.map(A(this))]}get mouse_over(){const{mouse_trans_pos_x:t,mouse_trans_pos_y:e}=this.pInst,{x1:r,y1:s,x2:n,y2:i,x3:o,y3:c}=this.this_element;return this.pInst.collide_point_triangle(t,e,r,s,n,i,o,c)}get vertices(){const{x1:t,y1:e,x2:r,y2:s,x3:n,y3:i}=this.this_element;return[this.pInst.createVector(t,e),this.pInst.createVector(r,s),this.pInst.createVector(n,i)]}});customElements.define("p-bezier",class extends v{constructor(){super(["x1, y1, x2, y2, x3, y3, x4, y4","x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4"])}});customElements.define("p-curve",class extends v{constructor(){super(["x1, y1, x2, y2, x3, y3, x4, y4","x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4"])}});customElements.define("p-contour",class extends v{constructor(){super([""],"beginContour")}endRender(){this.pInst.endContour()}});customElements.define("p-shape",class extends v{constructor(){super(["[kind]"],"beginShape")}collider=p5.prototype.collider_type.poly;get collision_args(){return[this.vertices.map(A(this))]}endRender(t){t.hasOwnProperty("mode")?this.pInst.endShape(t.mode):this.pInst.endShape()}get vertices(){const t=e=>{const r=Array.from(e.children);return r.concat(r.map(t)).flat()},e=t(this).filter((t=>t instanceof S&&t.this_element)).map((t=>{if(t instanceof M){const{x3:e,y3:r}=t.this_element;return this.pInst.createVector(e,r)}const{x:e,y:r}=t.this_element;return this.pInst.createVector(e,r)}));return e.concat(e.slice(0))}});class S extends v{constructor(){super(["x, y","x, y, [z]","x, y, [z], [u], [v]"])}}customElements.define("p-vertex",S);class M extends v{constructor(){super(["cx, cy, x3, y3","cx, cy, cz, x3, y3, z3"])}}customElements.define("p-quadratic-vertex",M);customElements.define("p-curve-vertex",class extends v{constructor(){super(["x, y","x, y, [z]"])}});customElements.define("p-normal",class extends v{constructor(){super(["vector","x, y, z"])}});customElements.define("p-plane",class extends v{constructor(){super("[w], [h], [detail_x], [detail_y]")}});customElements.define("p-box",class extends v{constructor(){super(["[w], [h], [depth], [detail_x], [detail_y]"])}});customElements.define("p-sphere",class extends v{constructor(){super(["[radius], [detail_x], [detail_y]"])}});customElements.define("p-cylinder",class extends v{constructor(){super(["[radius], [h], [detail_x], [detail_y], [bottomCap], [topCap]"])}});customElements.define("p-cone",class extends v{constructor(){super(["[radius], [h], [detail_x], [detail_y], [cap]"])}});customElements.define("p-ellipsoid",class extends v{constructor(){super(["[radius_x], [radius_y], [radius_z], [detail_x], [detail_y]"])}});customElements.define("p-torus",class extends v{constructor(){super(["[radius], [tubeRadius], [detailX], [detailY]"])}});customElements.define("p-load-model",class extends v{constructor(){super(["path, normalize, [successCallback], [failureCallback], [fileType]","path, [successCallback], [failureCallback], [fileType]"])}});customElements.define("p-model",class extends v{constructor(){super(["model"])}});const P=t=>function(){const e=arguments;return 9!==e.length?t(...e):this.createVector(t(e[0],e[2],e[4],e[6],e[8]),t(e[1],e[3],e[5],e[7],e[8]))};p5.prototype.bezierPoint=P(p5.prototype.bezierPoint),p5.prototype.bezierTangent=P(p5.prototype.bezierTangent),p5.prototype.curvePoint=P(p5.prototype.curvePoint),p5.prototype.curveTangent=P(p5.prototype.curveTangent),p5.prototype.yesSmooth=p5.prototype.smooth,m("ellipseMode","rectMode","curveTightness"),_({smooth:{get:function(){return this._renderer?.isP3D?this._renderer._pInst._glAttributes?.antialias:this.drawingContext?.imageSmoothingEnabled},set:function(t){t?this.yesSmooth():this.noSmooth()}},stroke_cap:{get:function(){return this._renderer?.isP3D?this._renderer.strokeCap():this.drawingContext?.lineCap},set:function(t){this.strokeCap(t)}},stroke_join:{get:function(){return this._renderer?.isP3D?this._renderer.strokeJoin():this.drawingContext?.lineJoin},set:function(t){this.strokeJoin(t)}},stroke_weight:{get:function(){return this._renderer?.isP3D?this._renderer.curStrokeWeight:this.drawingContext?.lineWidth},set:function(t){this.strokeWeight(t)}},bezier_detail:{get:function(){return this._renderer?._pInst._bezierDetail},set:function(t){this.bezierDetail(t)}},curve_detail:{get:function(){return this._renderer?._pInst._curveDetail},set:function(t){this.curveDetail(t)}}}),_({animate:{get:function(){return this.isLooping()},set:function(t){t?this.loop():this.noLoop()}},remove_canvas:{get:function(){return!1},set:function(){this.remove()}}}),y("selectAll","removeElements","createDiv","createP","createSpan","createImg","createA","createSlider","createButton","createCheckbox","createSelect","createRadio","createColorPicker","createInput","createFileInput","createVideo","createAudio","createCapture","createElement"),y("createStringDict","createNumberDict","matchAll","splitTokens"),p5.prototype.storage={},p5.prototype.registerMethod("init",(function(){this._setProperty("storage",new Proxy(this,{get:(t,e)=>"clear"===e?t.clearStorage:"remove"===e?t.removeItem:t.getItem(e),set:(t,e,r)=>(t.storeItem(e,r),!0)}))})),y("createVector"),_({angle_mode:{get:function(){return this._angleMode},set:function(t){this._setProperty("_angleMode",t)}},noise_detail:{set:function(){this.noiseDetail(...arguments)}},noise_seed:{set:function(){this.noiseSeed(...arguments)}},random_seed:{get:function(){return this._lcg_random_state},set:function(){this.randomSeed(...arguments)}}}),y("createCanvas","createGraphics"),_({blend_mode:{get:function(){return this._renderer?.isP3D?this.curBlendMode:this.drawingContext?.globalCompositeOperation},set:function(t){this.blendMode(t)}},drawing_context:{get:function(){return this.drawingContext}},set_webgl_attr:{set:function(){this.setAttributes(...arguments)}}});const C=p5.prototype.createVector(),O=p5.prototype.createVector(),D=p5.prototype.createVector(),z=p5.prototype.createVector(1,1,1);p5.Renderer=function(t){function e(){t.apply(this,arguments),this._anchorStack=[C.copy()],this._angleStack=[O.copy()],this._scaleStack=[z.copy()],this._shearStack=[D.copy()]}return e.prototype=Object.create(t.prototype),e}(p5.Renderer),d("push",(t=>function(){this._renderer._anchorStack.push(C.copy()),this._renderer._angleStack.push(O.copy()),this._renderer._scaleStack.push(z.copy()),this._renderer._shearStack.push(D.copy()),t.call(this)})),d("pop",(t=>function(){this._renderer._anchorStack.pop(),this._renderer._angleStack.pop(),this._renderer._scaleStack.pop(),this._renderer._shearStack.pop(),t.call(this)})),p5.prototype.RESET="reset",_({anchor:{get:function(){return this._renderer?._anchorStack[this._renderer._anchorStack.length-1]},set:function(t){Array.isArray(t)?this._renderer._anchorStack[this._renderer._anchorStack.length-1].set(...t):this._renderer._anchorStack[this._renderer._anchorStack.length-1].set(t),this.translate(this.anchor)}},angle:{get:function(){return this._renderer?._angleStack.slice(-1)[0].z},set:function(t){this._renderer._angleStack[this._renderer._anchorStack.length-1].z=t,this.rotate(this.angle)}},angle_x:{get:function(){return this._renderer?._angleStack.slice(-1)[0].x},set:function(t){this._renderer._angleStack[this._renderer._angleStack.length-1].x=t,this.rotateX(this.angle_x)}},angle_y:{get:function(){return this._renderer?._angleStack.slice(-1)[0].y},set:function(t){this._renderer._angleStack[this._renderer._angleStack.length-1].y=t,this.rotateY(this.angle_y)}},angle_z:{get:function(){return this._renderer?._angleStack.slice(-1)[0].z},set:function(t){this._renderer._angleStack[this._renderer._angleStack.length-1].z=t,this.rotateZ(this.angle_z)}},angle_vector:{get:function(){return this._renderer?._angleStack.slice(-1)[0]},set:function(t){this._renderer._angleStack[this._renderer._angleStack.length-1]=t,this._renderer.isP3D?(this.rotateX(this.angle_x),this.rotateY(this.angle_y),this.rotateZ(this.angle_z)):this.rotate(this.angle)}},scale_factor:{get:function(){return this._renderer?._scaleStack.slice(-1)[0]},set:function(t){Array.isArray(t)?this._renderer._scaleStack[this._renderer._scaleStack.length-1].set(...t):this._renderer._scaleStack[this._renderer._scaleStack.length-1].set(t,t,t),this.scale(this.scale_factor)}},shear:{get:function(){return this._renderer?._shearStack.slice(-1)[0]},set:function(t){Array.isArray(t)?this._renderer._shearStack[this._renderer._shearStack.length-1].set(...t):this._renderer._shearStack[this._renderer._shearStack.length-1].set(t),this.shearX(this.shear.x),this.shearY(this.shear.y)}},transform_matrix:{get:function(){return this._renderer.isP3D?this._renderer.uMVMatrix:this.drawingContext?.getTransform()},set:function(t){t===this.RESET?this.resetMatrix():this.applyMatrix(t)}}}),p5.prototype.registerMethod("pre",(function(){const{anchor:t,angle_vector:e,scale_factor:r,shear:s}=this;this._renderer._anchorStack=[t],this.anchor=t,this._renderer._angleStack=[e],this.angle_vector=e,this._renderer._scaleStack=[r],this.scale_factor=r,this._renderer._shearStack=[s],this.shear=s}));const N=new DOMMatrix([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);p5.prototype._transform_point_matrix=function(t,e){const r=new DOMMatrix(N).scale(this.pixel_density);return e.multiply(r).transformPoint(t)},p5.prototype.untransform_point=function(t,e,r){const s=new DOMPoint(t,e,r);return this._transform_point_matrix(s,this.transform_matrix)},p5.prototype.transform_point=function(t,e,r){const s=new DOMPoint(t,e,r);return this._transform_point_matrix(s,this.transform_matrix.inverse())},y("deviceOrientation","turnAxis","keyIsDown"),p5.prototype.device_moved=!1,p5.prototype.device_turned=!1,p5.prototype.mouse_down=!1,p5.prototype.mouse_up=!1,p5.prototype.mouse_dragging=!1,p5.prototype.mouse_double_clicked=!1,p5.prototype._mouseWheel=0,p5.prototype.key_down=!1,p5.prototype.key_up=!1,p5.prototype.touch_started=!1,p5.prototype.touch_moved=!1,p5.prototype.touch_ended=!1,p5.prototype._startAngleZ,d("_handleMotion",(t=>function(){t.call(this),this._setProperty("deviced_moved",!0)})),d("_onmousedown",(t=>function(e){t.call(this,e),this._setProperty("mouse_down",!0)})),d("_ondbclick",(t=>function(e){t.call(this,e),this._setProperty("mouse_double_clicked",!0)})),d("_onmousemove",(t=>function(e){t.call(this,e),this._setProperty("mouse_dragging",this.mouseIsPressed),this._setProperty("touch_moved",this.mouseIsPressed)})),d("_onwheel",(t=>function(e){t.call(this,e),this._setProperty("_mouseWheel",this._mouseWheelDeltaY)})),d("_onkeyup",(t=>function(e){t.call(this,e),this._setProperty("key_up",!0),this._setProperty("key_held",!1)})),d("_onkeydown",(t=>function(e){t.call(this,e),this._setProperty("key_down",!0)})),d("_ontouchbase",(t=>function(e){t.call(this,e),this._setProperty("touch_started",!0)})),d("_ontouchmove",(t=>function(e){t.call(this,e),this._setProperty("touch_moved",!0)})),d("_ontouchend",(t=>function(e){t.call(this,e),this._setProperty("touch_ended",!0)})),p5.prototype.registerMethod("pre",(function(){this._setProperty("mouse_up",0==this.mouseIsPressed&&1==this.mouse_held),this._setProperty("mouse_held",this.mouseIsPressed),this._setProperty("key_held",this.key_down)})),p5.prototype.registerMethod("post",(function(){this._setProperty("device_moved",!1),this._setProperty("mouse_down",!1),this._setProperty("mouse_dragging",!1),this._setProperty("mouse_double_clicked",!1),this._setProperty("_mouseWheel",!1),this._setProperty("key_up",!1),this._setProperty("key_down",!1),this._setProperty("touch_started",!1),this._setProperty("touch_moved",!1),this._setProperty("touch_ended",!1)})),p5.prototype._moveThreshold=.5,p5.prototype._shakeThreshold=30,_({device_acceleration:{get:function(){return this.createVector(this.accelerationX,this.accelerationY,this.accelerationZ)}},device_prev_acceleration:{get:function(){return this.createVector(this.pAccelerationX,this.pAccelerationY,this.pAccelerationZ)}},device_rotation:{get:function(){return this.createVector(this.rotationX,this.rotationY,this.rotationZ)}},device_prev_rotation:{get:function(){return this.createVector(this.pRotationX,this.pRotationY,this.pRotationZ)}},device_turned:{get:function(){return(null!==this.rotationX||null!==this.rotationY||null!==this.rotationZ)&&(this.rotationX!==this.pRotationX||this.rotationY!==this.pRotationY||this.rotationZ!==this.pRotationZ)}},first_frame:{get:function(){return 1===this.frameCount}},key_code:{get:function(){return this.keyCode}},mouse_button:{get:function(){return this.mouseButton}},mouse_pos:{get:function(){return this.createVector(this.mouseX,this.mouseY)}},mouse_pos_x:{get:function(){return this.mouseX}},mouse_pos_y:{get:function(){return this.mouseY}},mouse_prev_pos:{get:function(){return this.createVector(this.pmouseX,this.pmouseY)}},mouse_prev_pos_x:{get:function(){return this.pmouseX}},mouse_prev_pos_y:{get:function(){return this.pmouseY}},mouse_trans_pos:{get:function(){return this.transform_point(this.mouse_pos_x,this.mouse_pos_y)}},mouse_trans_pos_x:{get:function(){return this.mouse_trans_pos.x}},mouse_trans_pos_y:{get:function(){return this.mouse_trans_pos.y}},mouse_wheel:{get:function(){return this._mouseWheel}},mouse_window_pos:{get:function(){return this.createVector(this.winMouseX,this.winMouseY)}},mouse_window_pos_x:{get:function(){return this.winMouseX}},mouse_window_pos_y:{get:function(){return this.winMouseY}},mouse_prev_window_pos:{get:function(){return this.createVector(this.pwinMouseX,this.pwinMouseY)}},mouse_window_prev_pos_x:{get:function(){return this.pwinMouseX}},mouse_window_prev_pos_y:{get:function(){return this.pwinMouseY}},move_threshold:{get:function(){return this._moveThreshold},set:function(t){this.setMoveThreshold(t)}},moved:{get:function(){return this.createVector(this.movedX,this.movedY)}},moved_x:{get:function(){return this.movedX}},moved_y:{get:function(){return this.movedY}},pointer_lock_request:{get:function(){return document.pointerLockElement===this._curElement.elt},set:function(t){t?this.requestPointerLock():this.exitPointerLock()}},shake_threshold:{get:function(){return this._shakeThreshold},set:function(t){this.setShakeThreshold(t)}}});customElements.define("p-image",class extends v{constructor(){super(["img, x, y, [w], [h]","img, dx, dy, dWidth, dHeight, sx, sy, [sWidth], [sHeight]"])}}),m("imageMode"),_({canvas_pixels:{get:function(){return this.loadPixels(),this.pixels},set:function(t){this.pixels=t,this.updatePixels()}},image_tint:{get:function(){return this._renderer?._tint},set:function(t){t===p5.prototype.NONE?this.noTint():this.tint(...arguments)}}}),y("createWriter"),_({http_post:{set:function(){this.httpPost(...arguments)}},http_do:{set:function(){this.httpDo(...arguments)}},save_file:{set:function(){this.save(...arguments)}},save_json_file:{set:function(){this.saveJSON(...arguments)}},save_strings_file:{set:function(){this.saveStrings(...arguments)}},save_table_file:{set:function(){this.saveTable(...arguments)}}}),m("textAlign","textLeading","textSize","textStyle","textWrap","textFont"),y("textAscent","textDescent");customElements.define("p-text",class extends v{constructor(){super(["content, x, y, [x2], [y2]"])}}),p5.prototype._orbitControl={on:!1,sensitivity:[]},p5.prototype._debugMode=[],p5.prototype.registerMethod("pre",(function(){this._orbitControl.on&&this.orbitControl(...this._orbitControl.sensitivity)})),p5.prototype.DEFAULT="default",p5.prototype.AMBIENT="ambient",p5.prototype.SPECULAR="specular",p5.prototype.EMISSIVE="emissive",_({orbit_control:{get:function(){return this._orbitControl},set:function(t){if(!1===t)return this._orbitControl=!1;this._orbitControl.on=!0,!0!==t&&(Array.isArray(t)&&(this._orbitControl.sensitivity=t),this._orbitControl.sensitivity=[t])}},debug_mode:{get:function(){return this._debugMode},set:function(t){t===this.NONE?this.noDebugMode():(this._debugMode=t,!0===t?this.debugMode():this.debugMode(t))}},specular_color:{get:function(){return this._renderer.specularColors},set:function(t){Array.isArray(t)?this.specularColor(...t):this.specularColor(t)}},light_falloff:{get:function(){return[this._renderer.constantAttenuation,this._renderer.linearAttenuation,this._renderer.quadraticAttenuation]}},remove_lights:{set:function(){this.noLights()}},shader:{get:function(){return[this._renderer.userStrokeShader,this._renderer.userFillShader]},set:function(t){t===this.DEFAULT?this.resetShader():this.shader(t)}},texture:{get:function(){return this._renderer._tex},set:function(t){this.texture(t)}},texture_mode:{get:function(){return this._renderer.textureMode},set:function(t){this.textureMode(t)}},texture_wrap:{get:function(){return[this._renderer.textureWrapX,this._renderer.textureWrapY]},set:function(t){Array.isArray(t)?this.textureWrap(...t):this.textureWrap(t)}},material:{get:function(){return this._renderer._useNormalMaterial?this.NORMAL:this._renderer._useAmbientMaterial?this.AMBIENT:this._renderer._useEmissiveMaterial?this.EMISSIVE:this._renderer._useSpecularMaterial?this.SPECULAR:void 0},set:function(t){switch(t){case this.NORMAL:this.normalMaterial();break;case this.AMBIENT:this.ambientMaterial();break;case this.EMISSIVE:this.emissiveMaterial();break;case this.SPECULAR:this.specularMaterial()}}},shininess:{get:function(){return this._renderer._useShininess},set:function(t){this.shininess(t)}},camera:{get:function(){return this._renderer._curCamera},set:function(t){this.setCamera(t)}}}),y("createShader","createCamera");customElements.define("p-ambient-light",class extends k{constructor(){super([])}});customElements.define("p-directional-light",class extends v{constructor(){super(["v1, v2, v3, x, y, z","v1, v2, v3, direction","color, x, y, z","color, direction"])}});customElements.define("p-point-light",class extends v{constructor(){super(["v1, v2, v3, x, y, z","v1, v2, v3, position","color, x, y, z","color, position"])}});customElements.define("p-lights",class extends v{constructor(){super([""])}});customElements.define("p-spot-light",class extends v{constructor(){super(["v1, v2, v3, x, y, z, rx, ry, rz, [angle], [concentration]","color, position, direction, [angle], [concentration]","v1, v2, v3, position, direction, [angle], [concentration]","color, x, y, z, direction, [angle], [concentration]","color, position, rx, ry, rz, [angle], [concentration]","v1, v2, v3, x, y, z, direction, [angle], [concentration]","v1, v2, v3, position, rx, ry, rz, [angle], [concentration]","color, x, y, z, rx, ry, rz, [angle], [concentration]"])}});const T=new Event("customElementsDefined");dispatchEvent(T);
//# sourceMappingURL=p5.marker.min.js.map
 